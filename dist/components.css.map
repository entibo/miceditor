{
  "version": 3,
  "file": "components.css",
  "sources": [
    "../src/components/scene/Scene.svelte",
    "../src/components/ui/Panel.svelte",
    "../src/components/ui/Header.svelte",
    "../node_modules/fa-svelte/src/Icon.svelte",
    "../src/components/scene/SceneObject.svelte",
    "../src/components/scene/Platform.svelte",
    "../src/components/scene/Decoration.svelte",
    "../src/components/scene/ShamanObject.svelte",
    "../src/components/scene/Image.svelte",
    "../src/components/scene/Joint.svelte",
    "../src/components/scene/Footer.svelte",
    "../src/components/ui/Window.svelte",
    "../src/components/common/TextInput.svelte",
    "../src/components/common/Button.svelte",
    "../src/components/common/Tooltip.svelte",
    "../src/components/ui/UserSettings.svelte",
    "../src/components/ui/XmlEditor.svelte",
    "../src/components/ui/HelpMenu.svelte",
    "../src/components/ui/LanguageMenu.svelte",
    "../src/components/ui/menus/MapSettingsMenu.svelte",
    "../src/components/ui/menus/SelectionMenu.svelte",
    "../src/components/ui/menus/LinesMenu.svelte",
    "../src/components/ui/menus/ImagesMenu.svelte",
    "../src/components/common/Checkbox.svelte",
    "../src/components/common/ColorPicker.svelte",
    "../src/components/common/Slider.svelte"
  ],
  "sourcesContent": [
    "<script>\n\n  import { onMount, tick } from \"svelte\"\n  import { fade } from \"svelte/transition\"\n\n  import { randInt } from \"/util\"\n\n  import SceneObject from \"/components/scene/SceneObject.svelte\"\n  import Platform from \"/components/scene/Platform.svelte\"\n  import Decoration from \"/components/scene/Decoration.svelte\"\n  import ShamanObject from \"/components/scene/ShamanObject.svelte\"\n  import Image from \"/components/scene/Image.svelte\"\n  import Joint from \"/components/scene/Joint.svelte\"\n  import Footer from \"/components/scene/Footer.svelte\"\n  import CreationPreview from \"/components/scene/CreationPreview.svelte\"\n  import SvgImage from \"/components/common/SvgImage.svelte\"\n  import Window from \"/components/ui/Window.svelte\"\n\n\n  import { mapSettings } from \"/state/map\"\n  import { platforms, decorations, shamanObjects, joints, images } from \"/state/sceneObjects\"\n\n  import { creation } from \"/state/creation\"\n  import { \n    grid,\n    showGameGUI,\n    showMapBorder,\n    showInvisibleGrounds,\n    zoom,\n  } from \"/state/user\"\n\n  import * as interaction from \"./interaction\"\n  import { pan, selectionBox, currentGamePosition, isKeyDown } from \"./interaction\"\n\n  import * as layout from \"/state/layout\"\n  import { layoutConfig, tabMovement } from \"/state/layout\"\n\n\n  let svgContainerEl = null, svgWidth = 1, svgHeight = 1\n  $: interaction.svgContainer.set({\n    el: svgContainerEl,\n    width: svgWidth,\n    height: svgHeight,\n  })\n\n\n  onMount(async () => {\n    await tick()\n    interaction.resetPan()\n  })\n\n  $: playerView = getPlayerView($mapSettings, $zoom, $pan, svgWidth, svgHeight)\n  function getPlayerView() {\n    let {x,y} = interaction.sceneToGameCoordinates({ x: svgWidth/2, y: svgHeight/2 })\n    return { \n      x: Math.max(0, Math.min($mapSettings.width-800, x-400)),\n      y: Math.max(0, Math.min($mapSettings.height-400, y-200)),\n    }\n  }\n\n  $: windowsWithIndex = \n        $layoutConfig.windows\n          .map((w,idx) => [w,idx])\n          .sort(([a,_],[b,__]) => a.tab < b.tab ? -1 : 1)\n\n</script>\n\n<svelte:window \n  on:keydown={interaction.windowKeyDown}\n  on:keyup={interaction.windowKeyUp} \n  on:mousemove={interaction.windowMouseMove}\n  on:mouseup={interaction.windowMouseUp}\n  on:mouseleave={interaction.windowMouseLeave}\n/>\n\n<div class=\"scene-container flex-grow bg-tfm-blue outline-none flex\" \n  class:target-inner={$tabMovement.active && $tabMovement.target.type === \"window\"}\n  bind:this={svgContainerEl}\n  bind:clientWidth={svgWidth} bind:clientHeight={svgHeight}\n  on:wheel={interaction.wheel}\n  on:mousedown={interaction.backgroundMouseDown}  \n  on:mousemove={interaction.backgroundMouseMove}\n  on:blur={interaction.windowMouseLeave}\n  on:keydown={interaction.keyDown} tabindex=\"-1\"\n>\n  <svg class=\"flex-grow\" >\n  \n    <defs>\n      <pattern id=\"grid\" patternUnits=\"userSpaceOnUse\"\n          width={$grid.width*$zoom} height={$grid.height*$zoom} x={$pan.x} y={$pan.y}\n      >\n        <path d={`M ${$grid.width*$zoom} 0 L 0 0 0 ${$grid.height*$zoom}`} \n          fill=\"none\" stroke={\"#\"+$grid.color} stroke-width=\"1\"\n        />\n      </pattern>\n    </defs>\n    {#if $grid.enabled}\n    <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\n    {/if}\n\n    <filter id=\"drop-shadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\n      <feDropShadow stdDeviation=\"4 5\" in=\"SourceGraphic\" dx=\"0\" dy=\"5\" flood-color=\"#0d161c\" flood-opacity=\"0.7\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"dropShadow\"/>\n    </filter>\n\n\n    <g transform=\"translate({$pan.x}, {$pan.y}) scale({$zoom})\">\n\n      {#each $images.background as obj}\n      <SceneObject {obj}> <Image {obj}/> </SceneObject>\n      {/each}\n\n\n      {#if $mapSettings.backgroundImageId != -1}\n      <image x=\"0\" y=\"0\" \n            width={$mapSettings.width} height={$mapSettings.height}\n            href=\"dist/backgrounds/{\n              $mapSettings.backgroundImageId == -2 ?\n                [0,1,2,3,7,8][randInt(0,5)] :\n                $mapSettings.backgroundImageId\n            }.svg\"\n            on:mousedown|preventDefault\n      />\n      {/if}\n\n      {#if $showMapBorder}\n      <rect x=\"0\" y=\"0\" \n            width={$mapSettings.width} height={$mapSettings.height}\n            class=\"mapBorder\"\n      />\n      {/if}\n\n\n      {#each $decorations.background as obj}\n      <SceneObject {obj}> <Decoration {obj}/> </SceneObject>\n      {/each}\n\n      {#each $joints.background as obj}\n      <SceneObject {obj}> <Joint {obj}/> </SceneObject>\n      {/each}\n\n      {#each $platforms.background as obj}\n      <SceneObject {obj}> <Platform {obj}/> </SceneObject>\n      {/each}\n\n      {#each $shamanObjects.background as obj}\n      <SceneObject {obj}> <ShamanObject {obj}/> </SceneObject>\n      {/each}\n\n\n      {#each $images.foreground as obj}\n      <SceneObject {obj}> <Image {obj}/> </SceneObject>\n      {/each}\n\n      {#each $images.disappearing as obj}\n      <SceneObject {obj}> <Image {obj}/> </SceneObject>\n      {/each}\n\n\n      {#each $decorations.foreground as obj}\n      <SceneObject {obj}> <Decoration {obj}/> </SceneObject>\n      {/each}\n\n      {#each $joints.foreground as obj}\n      <SceneObject {obj}> <Joint {obj}/> </SceneObject>\n      {/each}\n\n      {#each $platforms.foreground as obj}\n      <SceneObject {obj}> <Platform {obj}/> </SceneObject>\n      {/each}\n\n      {#each $shamanObjects.foreground as obj}\n      <SceneObject {obj}> <ShamanObject {obj}/> </SceneObject>\n      {/each}\n\n      {#each $joints.hidden as obj}\n      <SceneObject {obj}> <Joint {obj}/> </SceneObject>\n      {/each}\n\n      {#each $decorations.spawns as obj}\n      <SceneObject {obj}> <Decoration {obj}/> </SceneObject>\n      {/each}\n\n\n      {#if $showGameGUI}\n      <g class=\"playerView\" transform=\"translate({playerView.x}, {playerView.y})\">\n        <rect width=\"800\" height=\"20\" />\n        <rect y=\"400\" width=\"800\" height=\"200\" />\n      </g>\n      {/if}\n\n      {#if $selectionBox.box}\n      <g>\n        <rect\n          class=\"selectionBox\"\n          x={$selectionBox.box.p1.x} y={$selectionBox.box.p1.y}\n          width= {$selectionBox.box.p2.x - $selectionBox.box.p1.x} \n          height={$selectionBox.box.p2.y - $selectionBox.box.p1.y} />\n      </g>\n      {/if}\n      \n      {#if $creation.enabled}\n        <CreationPreview x={$currentGamePosition.x} y={$currentGamePosition.y} />\n      {/if}\n\n      {#if $isKeyDown.shift}\n      <g class=\"pointer-events-none\"\n        stroke=\"black\"\n        transform={`translate(${$currentGamePosition.x}, ${$currentGamePosition.y})`}\n      >\n        <line x1=\"-20\" y1=\"0\" x2=\"20\" y2=\"0\"/>\n        <line y1=\"-20\" x1=\"0\" y2=\"20\" x2=\"0\"/>\n      </g>\n      {/if}\n\n    </g>\n  </svg>\n\n  {#if $creation.enabled && $creation.creationType !== \"MECHANIC\" }\n  <div class=\"absolute top-0 right-0 bottom-0 left-0 w-full h-full\"></div>\n  {/if}\n\n  {#each windowsWithIndex as [window,idx], _ (window.tab)}\n  <Window window={window} z={idx} />\n  {/each}\n\n  <Footer position={$currentGamePosition} selectionBox={$selectionBox} />\n\n</div>\n\n<style lang=\"text/postcss\">.mapBorder{fill:none;outline:2px dashed rgba(0,0,0,.2)}.playerView rect{fill:rgba(0,0,0,.2)}.playerView{pointer-events:none;width:800px;height:600px;fill:none;outline:2px solid rgba(0,0,0,.2)}.selectionBox{fill:none;stroke:none;outline-offset:-1px;outline:2px dashed hsla(0,0%,100%,.95)}\n/*# sourceMappingURL=src/components/scene/Scene.svelte.map */</style>",
    "\n<script>\n  \n  import TabContent from \"/components/ui/TabContent.svelte\"\n\n  import * as layout from \"/state/layout\"\n  import { tabMovement } from \"/state/layout\"\n  \n  import { _ } from \"/state/locale\"\n\n  export let panel\n  export let panelName \n  export let direction\n  export let resize\n\n  $: dimensionName = direction === \"horizontal\" ? \"height\" : \"width\"\n\n  $: clickedTab = null\n\n\n  let resizeActionPosition = null\n  function onMouseMove(e) {\n    if(!resizeActionPosition) return\n    let delta = direction === \"vertical\" \n      ? e.x - resizeActionPosition.x\n      : e.y - resizeActionPosition.y\n    if(resize === \"left\" || resize === \"top\") delta = -delta\n    let newPanelSize = panel.size + delta\n    if(newPanelSize >= 180) {\n      panel.size = newPanelSize\n      resizeActionPosition = e\n    }\n  }\n\n  $: resizeClasses = {\n    left:  \"w-4 h-full left-0 top-0 bottom-0\",\n    right: \"w-4 h-full right-0 top-0 bottom-0\",\n    top:   \"h-4 w-full top-0 left-0 right-0\",\n  }[resize]\n\n</script>\n\n\n<svelte:window \n  on:mouseup={() => resizeActionPosition = null}\n  on:mouseleave={() => resizeActionPosition = null}\n  on:mousemove={onMouseMove}\n/>\n\n\n\n{#if panel.groups.length}\n\n  <div class=\"panel relative flex {direction}\" style=\"max-{dimensionName}: {panel.size}px; min-{dimensionName}: {panel.size}px\">\n\n    <div class=\"absolute {resizeClasses}\"\n        style=\"cursor: {direction === \"vertical\" ? \"ew\" : \"ns\"}-resize;\"\n        on:mousedown={e => resizeActionPosition = e}\n    ></div>\n\n    {#each panel.groups as group, groupIndex}\n\n        {#if $tabMovement.active}\n          <div class=\"group dummy-group tabContent {direction}\"\n              class:target={$tabMovement.active && $tabMovement.target.type === \"newGroup\" && $tabMovement.target.panelName === panelName && $tabMovement.target.groupIndex === groupIndex}\n              on:mousemove={() => layout.setTabMovementTarget({ type: \"newGroup\", panelName, groupIndex })}\n          ></div>\n        {/if}\n\n        <div class=\"group flex flex-col overflow-hidden\" class:flex-grow={group.activeTab}\n            class:target={$tabMovement.active && $tabMovement.target.type === \"group\" && $tabMovement.target.panelName === panelName && $tabMovement.target.groupIndex === groupIndex}\n            on:mousemove={() => layout.setTabMovementTarget({ type: \"group\", panelName, groupIndex })}\n        >\n          <div class=\"tabList\">\n            {#each group.tabs as tab}\n            <div class=\"tab cursor-pointer\" class:active={tab === group.activeTab}\n                on:click={() => layout.selectTab(panelName,groupIndex,tab)}\n                on:mousedown={e => layout.tabMouseDown(e, panelName,groupIndex,tab)}\n            >\n              {$_(layout.tabToLocaleKey[tab])}\n            </div>\n            {/each}\n          </div>\n          <div class=\"tabContent\">\n            {#if group.activeTab}\n            <TabContent tab={group.activeTab} />\n            {/if}\n          </div>\n        </div>\n        \n    {/each}\n\n    {#if $tabMovement.active}\n      <div class=\"group dummy-group tabContent {direction}\"\n           class:target={$tabMovement.active && $tabMovement.target.type === \"newGroup\" && $tabMovement.target.panelName === panelName && $tabMovement.target.groupIndex === panel.groups.length}\n           on:mousemove={() => layout.setTabMovementTarget({ type: \"newGroup\", panelName, groupIndex: panel.groups.length })}\n      ></div>\n    {/if}\n    \n  </div>\n\n{:else if $tabMovement.active}\n\n  <div class=\"panel dummy-panel {direction}\"\n       class:target-inner={$tabMovement.active && $tabMovement.target.type === \"newGroup\" && $tabMovement.target.panelName === panelName && $tabMovement.target.groupIndex === 0}\n       on:mousemove={() => layout.setTabMovementTarget({ type: \"newGroup\", panelName, groupIndex: 0 })}\n  ></div>\n\n{/if}\n\n\n\n<style lang=\"postcss\">.dummy-group,.dummy-panel{min-width:0!important;min-height:0!important;-webkit-box-flex:0!important;flex-grow:0!important}.dummy-group.vertical{height:1.5rem}.dummy-group.horizontal,.dummy-panel.vertical{width:1.5rem}.dummy-panel.horizontal{height:1.5rem}\n/*# sourceMappingURL=src/components/ui/Panel.svelte.map */</style>",
    "\n<script lang=\"ts\">\n\n  import clipboardCopy from \"clipboard-copy\"\n\n  import { tick, onMount } from \"svelte\"\n  import { fly, slide } from \"svelte/transition\"\n\n  import Icon from \"fa-svelte\"\n  import { faCopy } from \"@fortawesome/free-solid-svg-icons/faCopy\"\n  import { faUndo } from \"@fortawesome/free-solid-svg-icons/faUndo\"\n  import { faRedo } from \"@fortawesome/free-solid-svg-icons/faRedo\"\n  import { faCog } from \"@fortawesome/free-solid-svg-icons/faCog\"\n  import { faEdit } from \"@fortawesome/free-solid-svg-icons/faEdit\"\n  import { faSearchPlus } from \"@fortawesome/free-solid-svg-icons/faSearchPlus\"\n  import { faQuestion } from \"@fortawesome/free-solid-svg-icons/faQuestion\"\n\n  import { debounce } from \"/util\"\n\n/*   import { \n    xml, settings, \n    undo, redo, canUndo, canRedo,\n    highQuality, parkour, showGameGUI, showMapBorder, zoom, firstVisit,\n    language, _, localeFlag\n  } from \"/stores/stores.js\" */\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n  import UserSettings from \"/components/ui/UserSettings.svelte\"\n  import XmlEditor from \"/components/ui/XmlEditor.svelte\"\n  import HelpMenu from \"/components/ui/HelpMenu.svelte\"\n  import LanguageMenu from \"/components/ui/LanguageMenu.svelte\"\n\n\n  import xml from \"/state/xml\"\n  import { importXML, exportXML } from \"/state/map\"\n  import { localeFlag, language, _ } from \"/state/locale\"\n  import { undo, redo, canUndo, canRedo } from \"/state/history\"\n  import { zoom } from \"/state/user\"\n\n\n  let copyIconActive = false\n  function removeCopyIconActive() {\n    copyIconActive = false\n  }\n  async function copyXML() {\n    exportXML()\n    try {\n      await clipboardCopy($xml)\n      copyIconActive = true\n      debounce(removeCopyIconActive, 500)\n    } catch(e) {}\n  }\n  async function selectXML(e) {\n    exportXML()\n    e.target.select()\n    await tick()\n    e.target.select()\n  }\n\n  // let currentMenu = firstVisit ? \"help\" : null\n  let currentMenu = null // null | \"help\" | \"language\" | \"settings\" | \"zoom\" | \"xmlEditor\"\n  function selectMenu(which) {\n    if(currentMenu === which)\n      currentMenu = null\n    else currentMenu = which\n  }\n\n  function onKeydown({key}) {\n    if(key.toLowerCase() === \"h\") {\n      selectMenu(\"help\")\n    }\n  }\n\n  \n\n</script>\n\n<svelte:window\n  on:keydown={onKeydown}\n/>\n\n<header class=\"relative flex justify-between items-center px-4 py-2 bg-gray-800 shadow-lg text-white z-10\">\n\n  <div class=\"flex flex-wrap items-center\">\n\n    <Button class=\"text-sm\" on:click={selectMenu.bind(null, \"language\")}>\n      <div class=\"flex justify-center items-center\">\n        <span class=\"icon\" class:active={currentMenu === \"language\"}>\n          <span class=\"m-1 flag flag-{localeFlag[$language]}\"></span>\n      </div>\n    </Button>\n\n    <div class=\"mr-2\"></div>\n\n    <Tooltip inline bottom title=\"H\" >\n      <Button class=\"text-sm\" on:click={selectMenu.bind(null, \"help\")}>\n        <div class=\"flex justify-center items-center\">\n          <span class=\"icon\" class:active={currentMenu === \"help\"}>\n            <Icon icon={faQuestion}/> \n              </span>\n            <span class=\"ml-2 hidden xl:inline\">{$_(\"button-help\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n\n    <div class=\"mr-2\"></div>\n\n    <Tooltip inline bottom title={$_(\"editor-settings\")} >\n      <Button class=\"text-sm\" on:click={selectMenu.bind(null, \"settings\")}>\n        <div class=\"flex justify-center items-center\">\n          <span class=\"icon\" class:active={currentMenu === \"settings\"}>\n            <Icon icon={faCog}/> \n              </span>\n          <span class=\"ml-2 hidden xl:inline\">{$_(\"button-settings\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n\n    <div class=\"mr-2\"></div>\n\n    <Tooltip inline bottom title=\"Ctrl+Scroll\" >\n      <Button class=\"text-sm\" on:click={selectMenu.bind(null, \"zoom\")}>\n        <div class=\"flex justify-center items-center\">\n          <span class=\"icon\" class:active={currentMenu === \"zoom\"}>\n            <Icon icon={faSearchPlus}/> \n              </span>\n            <span class=\"ml-2 hidden xl:inline\">{$_(\"button-zoom\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n\n  </div>\n\n\n  <div class=\"mr-4\"></div>\n\n\n  <div class=\"flex justify-center flex-wrap items-center\">\n    <Tooltip inline bottom title={$_(\"large-xml-editor\")} >\n      <Button class=\"text-sm\" on:click={selectMenu.bind(null, \"xmlEditor\")}>\n        <div class=\"flex justify-center items-center\" >\n          <span class=\"icon\" class:active={currentMenu === \"xmlEditor\"}>\n            <Icon icon={faEdit}/> \n              </span>\n          <span class=\"ml-2 hidden xl:inline\">{$_(\"button-edit\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n\n    <div class=\"mr-2\"></div>\n\n    <TextInput value={$xml} on:input={e => importXML(e.target.value)} on:click={selectXML} />\n\n    <div class=\"mr-2\"></div>\n\n    <Tooltip inline bottom title={$_(\"copy-map-to-clipboard\")} >\n      <Button class=\"text-sm\" on:click={copyXML}>\n        <div class=\"flex justify-center items-center\" >\n          <span class=\"icon\" class:active={copyIconActive}>\n            <Icon icon={faCopy}/> \n          </span>\n          <span class=\"ml-2 hidden xl:inline\">{$_(\"button-copy\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n  </div>\n\n\n  <div class=\"mr-4\"></div>\n\n\n  <div class=\"flex flex-wrap\">\n    <Tooltip inline bottom title=\"Ctrl+Z\" >\n      <Button class=\"text-sm\" disabled={!$canUndo} on:click={undo}>\n        <div class=\"flex justify-center items-center\">\n          <Icon icon={faUndo}/> <span class=\"ml-2 hidden xl:inline\">{$_(\"button-undo\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n    <div class=\"mr-2\"></div>\n    <Tooltip inline bottom end title=\"Ctrl+Shift+Z / Ctrl+Y\" >\n      <Button class=\"text-sm\" disabled={!$canRedo} on:click={redo}>\n        <div class=\"flex justify-center items-center\">\n          <Icon icon={faRedo}/> <span class=\"ml-2 hidden xl:inline\">{$_(\"button-redo\")}</span>\n        </div>\n      </Button>\n    </Tooltip>\n  </div>\n\n\n\n  {#if currentMenu === \"settings\"}\n\n  <div class=\"lower-panel p-2 xl:p-4\" transition:slide={{duration: 100}}>\n\n    <UserSettings />\n\n  </div>\n\n  {:else if currentMenu === \"zoom\"}\n\n  <div class=\"lower-panel p-2 xl:p-4\" transition:slide={{duration: 100}}>\n    \n    <section>\n      <label>\n        <span>{$_(\"button-zoom\")}</span>\n        <span class=\"w-12\">\n          <TextInput number bind:value={$zoom} />\n        </span>\n      </label>\n      <input type=range bind:value={$zoom} min=0.1 max=5 step=0.1 />\n    </section>\n\n  </div>\n\n  {:else if currentMenu === \"xmlEditor\"}\n\n  <div class=\"lower-panel xml p-2 xl:p-4\" transition:slide={{duration: 100}}>\n    \n    <XmlEditor />\n\n  </div>\n\n  {:else if currentMenu === \"help\"}\n\n  <div class=\"lower-panel p-2 xl:p-4\" transition:slide={{duration: 100}}>\n    \n    <HelpMenu />\n\n  </div>\n\n  {:else if currentMenu === \"language\"}\n\n  <div class=\"lower-panel p-2 xl:p-4\" transition:slide={{duration: 100}}>\n    \n    <LanguageMenu />\n\n  </div>\n\n  {/if}\n\n\n</header>\n\n\n<style lang=\"text/postcss\">label,section{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}label{-webkit-transition:.2s;transition:.2s;-webkit-box-pack:justify;justify-content:space-between}label+label{margin-left:1rem}label>span,small-text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;margin-right:.75rem;font-size:.875rem;color:#e2e8f0}.lower-panel{-webkit-transform:translateY(100%);transform:translateY(100%);bottom:1px;position:absolute;z-index:20;box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem;color:#e2e8f0;white-space:nowrap;background-color:#2b3e50}.lower-panel.xml{left:0;right:0;width:100%;border-radius:0}.icon{-webkit-transition:50ms;transition:50ms;display:-webkit-box;display:flex}.icon.active{-webkit-transform:scale(1.3);transform:scale(1.3)}\n/*# sourceMappingURL=src/components/ui/Header.svelte.map */</style>",
    "<svg\r\n  aria-hidden=\"true\"\r\n  class=\"{classes}\"\r\n  role=\"img\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  viewBox=\"{viewBox}\"\r\n>\r\n  <path fill=\"currentColor\" d=\"{path}\" />\r\n</svg>\r\n<script>\r\n  export let icon;\r\n\r\n  let path = [];\r\n  let classes = \"\";\r\n  let viewBox = \"\";\r\n\r\n  $: viewBox = \"0 0 \" + icon.icon[0] + \" \" + icon.icon[1];\r\n\r\n  $: classes = \"fa-svelte \" + ($$props.class ? $$props.class : \"\");\r\n\r\n  $: path = icon.icon[4];\r\n</script>\r\n\r\n<style>.fa-svelte{width:1em;height:1em;overflow:visible;display:inline-block}\n/*# sourceMappingURL=node_modules/fa-svelte/src/Icon.svelte.map */</style>",
    "\n<script>\n\n  export let obj\n\n  import { objectMouseDown } from \"./interaction\"\n\n  import * as Editor from \"/data/editor/index\"\n  import { creation } from \"/state/creation\"\n\n  $: outOfTheWay = \n    $creation.enabled && $creation.creationType === \"MECHANIC\" && !Editor.isPlatform($obj)\n\n</script>\n\n{#if $obj.visible}\n\n<g class:pointer-events-none={!$obj.interactive}\n   class:out-of-the-way={outOfTheWay}\n   on:mousedown={e => objectMouseDown(e, obj)}\n>\n  <slot></slot>\n</g>\n\n{/if}\n\n<style>.out-of-the-way{pointer-events:none;opacity:.33}\n/*# sourceMappingURL=src/components/scene/SceneObject.svelte.map */</style>",
    "\n<script>\n\n  import * as Platform from \"/data/editor/Platform\"\n  import { showInvisibleGrounds } from \"/state/user\"\n  import { platformResizeKnobMouseDown,\n           platformBoosterVectorMouseDown,\n           platformBoosterVectorMinLength, \n           platformBoosterVectorSpeedLengthRatio, \n         } from \"/components/scene/interaction\"\n\n  import SvgImage from \"/components/common/SvgImage.svelte\"\n\n  export let obj\n  $: active = $obj.selected\n\n  $: typeName = Platform.typeNames[$obj.type]\n\n  $: isCircle = typeName === \"circle\"\n\n  $: width  = isCircle ? $obj.radius*2 : $obj.width\n  $: height = isCircle ? $obj.radius*2 : $obj.height\n\n  $: rotation = $obj.rotation || 0\n\n  // Resize points dimensions\n  $: rs = 6\n  $: rw = rs/2 + width/2\n  $: rh = rs/2 + height/2\n  //\n\n  $: invisibilityClass = Platform.isInvisible($obj)\n      ? $showInvisibleGrounds \n          ? \"half-opacity\" \n          : \"zero-opacity\"\n      : \"\"\n\n  let boosterVector \n  $: if($obj.booster && $obj.booster.enabled) {\n    let angle = $obj.booster.angle\n    let rad = angle * Math.PI / 180\n    let length = platformBoosterVectorMinLength \n               + $obj.booster.speed * platformBoosterVectorSpeedLengthRatio\n    boosterVector = {\n      angle,\n      x: length * Math.cos(rad),\n      y: length * Math.sin(rad),\n    }\n  }\n  else boosterVector = null\n\n</script>\n\n<g \n  transform=\"translate({$obj.x}, {$obj.y}) \n             rotate({rotation || 0})\"\n>\n  <g class=\"platform\"\n    on:mousedown on:mousemove on:mouseleave\n  >\n\n    {#if $obj.image.enabled}\n    <SvgImage class=\"pointer-events-none\"\n      x={-width/2  + $obj.image.x} \n      y={-height/2 + $obj.image.y}\n      href={$obj.image.imageUrl.url}\n    />}\n    <rect\n      x={-width/2} y={-height/2}\n      width={width} height={height}\n      fill=\"transparent\"\n      class=\"selectable\"\n      class:active\n    />\n    {:else}\n\n    <g class=\"selectable\" class:active >\n      <g class={invisibilityClass} >\n\n        {#if typeName === \"circle\"}\n          <circle\n            r={$obj.radius}\n            fill=\"#{$obj.color}\"\n          />\n        {:else if typeName === \"rectangle\"}\n          <rect\n            x={-width/2} y={-height/2}\n            width={width} height={height}\n            fill=\"#{$obj.color}\"\n          />\n        {:else if [\"wood\", \"ice\", \"trampoline\", \"chocolate\", \"cloud\"].includes(typeName)}\n          <image \n            x={-width/2} y={-height/2}\n            width={width} height={height} \n            preserveAspectRatio=\"none\" \n            href=\"dist/grounds/{ typeName }.png\"\n            on:mousedown|preventDefault\n          />\n        {:else if typeName === \"invisible\"}\n          <rect\n            x={-width/2} y={-height/2}\n            width={width} height={height}\n            fill=\"white\"\n          />\n        {:else}\n          <foreignObject\n            x={-width/2} y={-height/2}\n            width={width} height={height} \n          >\n            <div\n              class=\"w-full h-full {typeName !== 'invisible' ? typeName : ''}\"\n              class:sides={width%40===0}\n            >\n            </div>\n          </foreignObject>\n        {/if}\n\n      </g>\n    </g>\n\n    {/if}\n\n  </g>\n\n  <g transform=\"translate({-rs/2}, {-rs/2})\" \n    class=\"resize-knobs\" class:active\n  >\n    {#each \n    isCircle \n      ? [[+rw, 0], [-rw,0], [0,-rh], [0,+rh]] \n      : [\n          [-rw,-rh], [0,-rh], [+rw,-rh], [+rw,0],\n          [+rw,+rh], [0,+rh], [-rw,+rh], [-rw,0],\n        ]\n        .map(([x,y], k) => [x,y,k])\n    as [x,y,k]}\n    <rect fill=\"white\" width={rs} height={rs} {x} {y}\n      on:mousedown|stopPropagation|preventDefault={e => platformResizeKnobMouseDown(e, obj, k)}\n    />\n    {/each}\n  </g>\n\n  {#if boosterVector && active}\n    <g class=\"booster-vector resize-knobs\" \n       class:zero-speed={$obj.booster.speed <= 0.1}\n       class:active transform=\"rotate({-rotation})\"\n    >\n      <line x1={0} x2={boosterVector.x}\n            y1={0} y2={boosterVector.y}\n      />\n      <path class=\"arrowHead\"\n            transform=\"translate({boosterVector.x} {boosterVector.y})\n                       rotate({boosterVector.angle})\" \n            d=\"M 0 -5 L 10 0 L 0 5 z\" \n            on:mousedown|stopPropagation|preventDefault={e => platformBoosterVectorMouseDown(e, obj)}\n      />\n    </g>\n  {/if}\n\n</g>\n\n\n\n<style lang=\"text/postcss\">.half-opacity{opacity:.4}.zero-opacity{opacity:0}.resize-knobs{visibility:hidden;cursor:crosshair}.resize-knobs.active{visibility:visible}.booster-vector{opacity:.9}.booster-vector.zero-speed{opacity:.5}.booster-vector line{stroke:#ff0;stroke-width:2;stroke-dasharray:4;-webkit-animation:dash-animation 2s linear infinite;animation:dash-animation 2s linear infinite}.booster-vector .arrowHead{fill:#ff0}@-webkit-keyframes dash-animation{0%{stroke-dashoffset:0}to{stroke-dashoffset:-8}}@keyframes dash-animation{0%{stroke-dashoffset:0}to{stroke-dashoffset:-8}}.platform circle,.platform rect{-webkit-transition:fill .1s;transition:fill .1s}.selectable{outline-width:2px;outline-offset:-1px;outline-style:dashed;outline-color:hsla(0,0%,100%,0)}.selectable:hover{cursor:pointer;outline-color:hsla(0,0%,100%,.5)}.selectable.active{outline-color:hsla(0,0%,100%,.95)}.cobweb{background:url(grounds/cobweb.png)}.sand{background:url(grounds/sand.png)}.water{background:url(grounds/water-high.png)}.lava{background:url(grounds/lava-high.png)}.earth{background:url(grounds/earth-high.png)}.grass2{background:url(grounds/grass2-top.png) repeat-x,url(grounds/earth-high.png)}.grass2.sides{background:url(grounds/grass2-corner.png) no-repeat,url(grounds/grass2-corner-flipped.png) no-repeat 100% 0,url(grounds/grass2-top.png) repeat-x,url(grounds/earth-high.png)}.grass2.sides:before{content:\"\";position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;top:8px;background:url(grounds/grass2-side.png) repeat-y,url(grounds/grass2-side-flipped.png) repeat-y 100% 0}.grass{background:url(grounds/grass-top.png) repeat-x,url(grounds/earth-high.png)}.grass.sides{background:url(grounds/grass-corner.png) no-repeat,url(grounds/grass-corner-flipped.png) no-repeat 100% 0,url(grounds/grass-top.png) repeat-x,url(grounds/earth-high.png)}.grass.sides:before{content:\"\";position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;top:8px;background:url(grounds/grass-side.png) repeat-y,url(grounds/grass-side-flipped.png) repeat-y 100% 0}.snow{background:url(grounds/snow-top.png) repeat-x,url(grounds/earth-high.png)}.snow.sides{background:url(grounds/snow-top.png) repeat-x,url(grounds/grass-side.png) repeat-y,url(grounds/grass-side-flipped.png) repeat-y 100% 0,url(grounds/earth-high.png)}.stone{background:url(grounds/stone-top.png) repeat-x,url(grounds/stone-high.png)}.stone.sides{background:url(grounds/stone-side.png) repeat-y,url(grounds/stone-side.png) repeat-y 100% 0,url(grounds/stone-top.png) repeat-x,url(grounds/stone-high.png)}\n/*# sourceMappingURL=src/components/scene/Platform.svelte.map */</style>",
    "\n<script>\n  import cc from \"color-convert\"\n  import { onMount } from \"svelte\"\n  import { getUniqueId } from \"/util\"\n  import decorationMetadata from \"/metadata/decoration/index\"\n\n  import SvgImage from \"/components/common/SvgImage.svelte\"\n  \n  import { mapSettings } from \"/state/map\"\n\n  export let obj\n  $: active = $obj.selected\n\n  let instanceId = getUniqueId()\n\n  $: metadata = getDecorationMetadata($obj, $mapSettings)\n  const specialMetadataOffset = {\n    T: { x: 21, y: 31 },\n    \"T-1\": { x: 25, y: 35 },\n    \"T-2\": { x: 25, y: 35 },\n    F: { x: 23, y: 21 },\n    \"F-triple\": { x: 23+12, y: 21+7 },\n    \"F-candy\": { x: 23+12, y: 21+7 },\n    DS: { x: 26, y: 43 },\n    DC: { x: 26, y: 43 },\n    DC2: { x: 26, y: 43 },\n  }\n  function getDecorationMetadata(obj) {\n  \tlet type = obj.type\n    if(typeof obj.type === \"number\") {\n      return decorationMetadata[type]\n    }\n    else if(obj.type === \"F\") {\n      if($mapSettings.dodue) {\n        type = \"F-triple\"\n        if($mapSettings.theme === \"halloween\") {\n          type = \"F-candy\"\n        }\n      }\n    }\n    else if(obj.type === \"T\") {\n      if(obj.holeColor !== \"\") {\n        let newType = \"T-\" + obj.holeColor\n        if(specialMetadataOffset[newType]) {\n          type = newType\n        }\n      }\n    }\n    return { \n      type, \n      filters: [],\n      offset: specialMetadataOffset[type],\n    }\n  }\n\n  $: filters = getFilters($obj)\n  function getFilters(obj) {\n    if(!metadata) return []\n    return metadata.filters.map(({name,defaultColor}, index) => {\n      let color = \"#\" + obj.colors[index]\n      let matrix = getColorMatrix(color)\n      return { name, matrix }\n    })\n  }\n\n  function withInstancedFilterIds(xml) {\n    for(let {name} of filters) {\n      xml = xml.replace(new RegExp(name, \"g\"), name+\"-\"+instanceId)\n    }\n    return xml\n  }\n\n  $: filtersLength = filters.length\n  \n  let promise\n  $: if(filtersLength)\n      promise = fetch(`dist/decorations/${$obj.type}.svg`).then(r => r.text()).then(withInstancedFilterIds)\n\n  function getColorMatrix(hex) {\n    let [r,g,b] = cc.hex.rgb(hex).map(x => x/255)\n    return `\n      1 0 0 0 ${r-0.5}\n      0 1 0 0 ${g-0.5}\n      0 0 1 0 ${b-0.5}\n      0 0 0 1 0`.trim()\n  }\n\n</script>\n\n\n\n\n<g on:mousedown \n  class=\"decoration\" class:active={active} \n  transform=\"translate({$obj.x}, {$obj.y}) {$obj.reverse ? 'scale(-1, 1)' : ''}\"\n>\n  {#if metadata}\n    <g transform=\"translate(-{metadata.offset.x}, -{metadata.offset.y})\">\n\n      {#if filters.length}\n\n        {#each filters as filter}\n        <filter id=\"{filter.name}-{instanceId}\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\n          <feColorMatrix type=\"matrix\" values={filter.matrix} x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"colormatrix1\"/>\n        </filter>\n        {/each}\n\n        {#await promise then svg}\n          {@html svg}\n        {/await}\n\n      {:else}\n\n        <SvgImage href=\"dist/decorations/{metadata.type}.png\"/>\n\n      {/if}\n\n    </g>\n  {:else}\n    <g>\n      <rect class=\"selectable\"\n        x={-20} y={-20}\n        width={40} height={40}\n        fill=\"red\"\n      />\n    </g>\n  {/if}\n</g>\n\n{#if $mapSettings.miceSpawn.type === \"random\" \n&& $obj.type === \"DS\"\n&& $obj.selected}       \n  <g class=\"pointer-events-none\"\n    stroke=\"white\" stroke-width=\"4\" stroke-dasharray=\"8\"\n  >\n    {#if $mapSettings.miceSpawn.axis === \"x\"}\n      <line \n        x1={0} y1={$obj.y}\n        x2={$mapSettings.width} y2={$obj.y}\n      />\n    {:else}\n      <line \n        x1={$obj.x} y1={0} \n        x2={$obj.x} y2={$mapSettings.height} \n      />\n    {/if}\n  </g>\n{/if}\n\n<style lang=\"text/postcss\">:global(.decoration>g>*){-webkit-transition:fill .1s,outline-color 50ms;transition:fill .1s,outline-color 50ms;outline-width:2px;outline-offset:-1px;outline-style:dashed;outline-color:hsla(0,0%,100%,0)}:global(.decoration>g>:hover){cursor:pointer;outline-color:hsla(0,0%,100%,.5)}:global(.decoration.active>g>*){outline-color:hsla(0,0%,100%,.95)}\n/*# sourceMappingURL=src/components/scene/Decoration.svelte.map */</style>",
    "\n<script>\n  import { readable } from \"svelte/store\"\n\n  import * as Editor from \"/data/editor/index\"\n  import shamanObjectMetadata from \"/metadata/shamanObject/index\"\n\n  import { parkourMode } from \"/state/mapExtra\"\n  import { mapSettings } from \"/state/map\"\n  import { shamanObjects } from \"/state/sceneObjects\"\n\n  import Decoration from \"./Decoration.svelte\"\n\n  export let obj\n\n\n  $: active = $obj.selected\n\n  $: metadata = getMetadata($obj, $mapSettings)\n  function getMetadata(shamanObject, mapSettings) {\n    let spriteData = shamanObjectMetadata[shamanObject.type]\n    if(!spriteData) return\n    return mapSettings.defilante.enabled && spriteData.defilanteVariant\n      ? spriteData.defilanteVariant\n      : spriteData\n  }\n\n\n  $: parkourCheckpointIndex = $parkourMode && \n        $shamanObjects.all.filter(o => o.type === 22).indexOf($obj) + 1\n\n  $: parkourMouseSpawn = $parkourMode && \n      readable(Editor.Decoration.make(Editor.Decoration.defaults(\"DS\")))\n\n</script>\n\n\n<g on:mousedown\n   class:active={active} \n   transform=\"translate({$obj.x}, {$obj.y}) \n              rotate({$obj.rotation || 0})\"\n>\n\n  {#if $parkourMode && $obj.type === 22}\n    <g class=\"pointer-events-none\">\n      <Decoration obj={parkourMouseSpawn} />\n      <text y=\"-32\">{parkourCheckpointIndex}</text>\n    </g>\n  {/if}\n\n  {#if metadata && metadata.spritesheet}\n\n    <foreignObject class=\"pointer-events-none\" class:opacity50={$obj.ghost}\n      x={-metadata.width/2} y={-metadata.height/2}\n      width={metadata.width} height={metadata.height}\n    >\n      <div style=\"background-image: url(dist/shamanObjects/{metadata.spritesheet}); \n                  background-position: {-metadata.offset.x}px {-metadata.offset.y}px;\n                  background-repeat: no-repeat;\"\n        class=\"w-full h-full\"\n      ></div>\n    </foreignObject>\n\n    <rect fill=\"transparent\" class=\"selectable\" \n      x={-metadata.boundingWidth/2} y={-metadata.boundingHeight/2}\n      width={metadata.boundingWidth} height={metadata.boundingHeight}\n    />\n\n  {:else if metadata && metadata.sprite}\n\n    <image class=\"selectable\" class:opacity50={$obj.ghost}\n      x={-metadata.width/2} y={-metadata.height/2}\n      width={metadata.width} height={metadata.height}\n      href=\"dist/shamanObjects/{metadata.sprite}\"\n      on:mousedown|preventDefault\n    />\n\n  {:else}\n\n    <rect class=\"selectable\" class:opacity50={$obj.ghost}\n      x={-20} y={-20}\n      width={40} height={40}\n      fill=\"red\"\n    />\n\n  {/if}\n\n</g>\n\n\n<style lang=\"text/postcss\">.opacity50{opacity:.5}.selectable{-webkit-transition:fill .1s,outline-color 50ms;transition:fill .1s,outline-color 50ms;outline-width:2px;outline-offset:-1px;outline-style:dashed;outline-color:hsla(0,0%,100%,0)}.selectable:hover{cursor:pointer;outline-color:hsla(0,0%,100%,.5)}.active .selectable{outline-color:hsla(0,0%,100%,.95)}text{fill:#000;font:14px sans-serif;text-anchor:middle}\n/*# sourceMappingURL=src/components/scene/ShamanObject.svelte.map */</style>",
    "\n<script>\n  import SvgImage from \"/components/common/SvgImage.svelte\"\n\n  export let obj\n  $: active = $obj.selected\n\n  $: disappearing = \"rx\" in $obj\n  \n</script>\n\n<g on:mousedown \n  class=\"image\" class:active={active} \n  transform=\"translate({$obj.x}, {$obj.y})\"\n>\n  <SvgImage href=\"{$obj.imageUrl.url}\"/>\n</g>\n\n{#if disappearing && active}\n  <rect x={$obj.rx} y={$obj.ry}\n        width={$obj.rw} height={$obj.rh}\n        fill=\"none\" stroke=\"yellow\" stroke-width=\"1\"\n  />\n{/if}\n\n<style lang=\"text/postcss\">:global(.image){-webkit-transition:fill .1s,outline-color 50ms;transition:fill .1s,outline-color 50ms;outline-width:2px;outline-offset:-1px;outline-style:dashed;outline-color:hsla(0,0%,100%,0)}:global(.image:hover){cursor:pointer;outline-color:hsla(0,0%,100%,.5)}:global(.image.active){outline-color:hsla(0,0%,100%,.95)}\n/*# sourceMappingURL=src/components/scene/Image.svelte.map */</style>",
    "\n<script>\n\n  //import { encodeJointData } from \"/xml-utils.ts\"\n  /* import {\n    joints, selection, buildXML, creation, bezier\n  } from \"/stores/stores.js\" */\n  import { bezier } from \"@/util\"\n  import { jointMouseDown } from \"/components/scene/interaction\"\n\n  import * as Editor from \"/data/editor/index\"\n  import * as sceneObjects from \"/state/sceneObjects\"\n\n  export let obj\n\n  $: active = $obj.selected\n\n\n  $: isRendered = Editor.Joint.isRendered($obj)\n\n\n  $: color = $obj.color\n  $: thickness = $obj.thickness\n  $: opacity = $obj.opacity\n\n  const green = \"#33ff44\"\n  const yellow = \"yellow\"\n\n\n  $: isHardToSee \n      =  ( opacity < 0.1 ) \n      || ( isNaN(parseInt(color, 16)) ) \n      || [color.substring(0,2), color.substring(2,4), color.substring(4,6)]\n            .map(s => parseInt(s, 16))\n            .every((x,i) => Math.abs([0x6a,0x74,0x95][i] - x) < 10)\n\n\n\n  $: points = [\"point1\",\"point3\",\"point4\",\"point2\"] \n      .map(name => $obj[name] && { ...$obj[name], name })\n      .filter(x => x && (\"enabled\" in x ? x.enabled : true))\n  \n\n  $: controlPoints = [\"controlPoint1\", \"controlPoint2\"] \n        .map(name => ({ ...$obj[name], name }))\n\n\n\n\n  let platform1 = null, platform2 = null\n  $: {\n    let r = sceneObjects.getJointPlatforms($obj)\n    platform1 = r.platform1\n    platform2 = r.platform2\n  }\n\n\n  function pointToString(p) {\n    if(!p) return \"\"\n    return [p.x,p.y].join(\",\")\n  }\n\n  $: polyline \n      = $obj.type === \"VC\" \n          ? Array($obj.fineness + 1).fill()\n              .map((_,i) => bezier(i/$obj.fineness, $obj.point1, $obj.point2, $obj.controlPoint1, $obj.controlPoint2))\n              .map(pointToString).join(\" \")\n      : $obj.type === \"JD\"\n          ? [ points.find(p => p.name === \"point1\") || platform1,\n              points.find(p => p.name === \"point2\") || platform2,\n            ].filter(x => x).map(pointToString).join(\" \")\n      : $obj.type === \"JPL\"\n          ? [ points.find(p => p.name === \"point1\") || platform1,\n              $obj.point3,\n              $obj.point4,\n              points.find(p => p.name === \"point2\") || platform2,\n            ].filter(x => x).map(pointToString).join(\" \")\n      : \"\"\n\n\n  $: fullPolyline =\n      [ platform1,\n        ...points,\n        platform2,\n      ].filter(x => x).map(pointToString).join(\" \")\n\n  $: renderFullPolyline\n      =  (platform1 && !Editor.Platform.isStatic(platform1))\n      || (platform2 && !Editor.Platform.isStatic(platform2))\n      || !isRendered\n\n\n  let crosshairRadius = 6\n  let crosshairThickness = 2\n\n</script>\n\n<g>\n  <g class=\"joint\" \n    on:mousedown on:mousemove on:mouseleave\n  >\n    {#if renderFullPolyline}\n      <g class=\"selectable\" class:active>\n        <polyline points={fullPolyline} class=\"dashed-line\" />\n      </g>\n    {/if}\n    {#if isRendered}\n      <g class=\"selectable\" class:active class:hard-to-see={isHardToSee} >\n        <polyline points={polyline}\n          stroke-width={thickness}\n          stroke=\"#{color}\" \n          opacity={opacity}\n          fill=\"none\"\n        />\n      </g>\n    {/if}\n  </g>\n  \n  <g class=\"point-crosshairs\" class:active >\n\n    {#each points.filter(({name}) => !name.startsWith(\"platform\")) as {x,y,name}}\n      <g fill=\"none\" stroke=\"yellow\" opacity=\"0.8\" stroke-width={crosshairThickness} stroke-linecap=\"butt\" \n        transform=\"translate({x},{y})\"\n      >\n        <line x1={0-crosshairRadius} x2={0+crosshairRadius}\n              y1={0} y2={0}  />\n        <line x1={0} x2={0}\n              y1={0-crosshairRadius} y2={0+crosshairRadius}  />\n        <circle fill=\"transparent\" stroke=\"none\"\n          x={0} y={0}\n          r={crosshairRadius}\n          on:mousedown|stopPropagation|preventDefault={e => jointMouseDown(e, obj, {x,y,name})}\n        />\n      </g>\n    {/each}\n\n    {#if $obj.type === \"VC\"}\n      <line fill=\"none\" stroke={yellow} opacity=\"0.8\" stroke-width=\"0.5\"\n            x1={points[0].x} x2={points[1].x}\n            y1={points[0].y} y2={points[1].y}  />\n      {#each controlPoints as {x,y,name}, idx}\n        <g fill=\"none\" stroke={green} opacity=\"0.8\" stroke-width={crosshairThickness} stroke-linecap=\"butt\" \n          transform=\"translate({x},{y})\"\n        >\n          <line x1={0-crosshairRadius} x2={0+crosshairRadius}\n                y1={0} y2={0}  />\n          <line x1={0} x2={0}\n                y1={0-crosshairRadius} y2={0+crosshairRadius}  />\n          <circle fill=\"transparent\" stroke=\"none\"\n            x={0} y={0}\n            r={crosshairRadius}\n            on:mousedown|stopPropagation|preventDefault={e => jointMouseDown(e, obj, {x,y,name})}\n          />\n        </g>\n        <line fill=\"none\" stroke={green} opacity=\"0.8\" stroke-width=\"0.5\"\n              x1={x} x2={points[idx].x}\n              y1={y} y2={points[idx].y}  />\n      {/each}\n    {/if}\n\n  </g>\n\n</g>\n\n\n\n<style lang=\"text/postcss\">.point-crosshairs{visibility:hidden;cursor:crosshair}.point-crosshairs.active{visibility:visible}.joint{-webkit-transition:fill .1s;transition:fill .1s;stroke-linecap:round;stroke-linejoin:round}.selectable.hard-to-see{-webkit-transition:outline-color 50ms;transition:outline-color 50ms;outline-width:2px;outline-offset:-1px;outline-style:dashed;outline-color:hsla(0,0%,100%,0)}.selectable:hover{cursor:pointer;outline-color:hsla(0,0%,100%,.5)}.selectable.active{outline-color:hsla(0,0%,100%,.95)}\n/*# sourceMappingURL=src/components/scene/Joint.svelte.map */</style>",
    "\n<script>\n  import { fly } from \"svelte/transition\"\n\n  import { selection } from \"/state/selection\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n\n  export let position\n  export let selectionBox\n\n  $: [x,y] = [position.x, position.y].map(v => Math.round(v))\n  let sw, sh\n  $: if(selectionBox.box) {\n    sw = Math.round(selectionBox.box.p2.x - selectionBox.box.p1.x)\n    sh = Math.round(selectionBox.box.p2.y - selectionBox.box.p1.y)\n  }\n\n</script>\n\n<div class=\"absolute z-40 bottom-0 px-4 pointer-events-none flex\">\n\n  <div class=\"section\">\n    <span class=\"text-gray-500 text-xs\">X</span>\n    <span class=\"text-gray-100 w-8 text-right inline-block\">{x}</span>\n    <span class=\"text-gray-500 text-xs ml-2\">Y</span>\n    <span class=\"text-gray-100 w-8 text-right inline-block\">{y}</span>\n  </div>\n\n  {#if $selection.length > 0}\n  <div class=\"ml-4 section\" >\n    <span class=\"text-gray-100\">{$selection.length}</span>\n    <span class=\"text-gray-500 text-xs ml-1\">selected</span>\n  </div>\n  {/if}\n\n  {#if selectionBox.box}\n  <div class=\"ml-4 section\" >\n    <span class=\"text-gray-500 text-xs\">L</span>\n    <span class=\"text-gray-100 w-8 text-right inline-block\">{sw}</span>\n    <span class=\"text-gray-500 text-xs ml-2\">H</span>\n    <span class=\"text-gray-100 w-8 text-right inline-block\">{sh}</span>\n  </div>\n  {/if}\n\n</div>\n\n<div class=\"right-0 absolute z-30 bottom-0 px-4 flex\">\n\n  <div class=\"section\">\n    <span class=\"text-gray-100\">Miceditor</span>\n    <span class=\"text-gray-500 text-xs ml-1\">v2.0.0</span>\n    <span class=\"text-gray-500 text-xs ml-2\">by</span>\n    <span class=\"text-gray-100 ml-1\">entibo</span>\n  </div>\n\n  <div class=\"ml-2 section\">\n    <Tooltip top title=\"Github\">\n      <a href=\"https://github.com/entibo/miceditor\" target=\"_blank\">\n        <img src=\"dist/github.png\" alt=\"Github\" style=\"width: 24px\" />\n      </a>\n    </Tooltip>\n  </div>\n\n  <div class=\"ml-2 section flex items-center\">\n    <Tooltip top title=\"Atelier801\">\n      <a href=\"https://atelier801.com/topic?f=6&t=884238\" target=\"_blank\">\n          <img src=\"dist/atelier801.png\" alt=\"Atelier801\" />\n      </a>  \n    </Tooltip>\n  </div>\n\n</div>\n\n<style lang=\"text/postcss\">.section{background-color:#2d3748;border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding:.25rem .75rem}a{text-decoration:none}\n/*# sourceMappingURL=src/components/scene/Footer.svelte.map */</style>",
    "\n<script>\n\nimport Icon from \"fa-svelte\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\n\nimport TabContent from \"/components/ui/TabContent.svelte\"\n\nimport * as layout from \"/state/layout\"\nimport { closeWindow } from \"/state/layout\"\nimport { windowTitleMouseDown, windowPanelMouseDown, windowBottomMouseDown } from \"/components/scene/interaction\"\n\nimport { _ } from \"/state/locale\"\n\n\nexport let window\nexport let z\n\n$: titleName = $_(layout.tabToLocaleKey[window.tab])\n\n</script>\n\n\n<div class=\"window absolute top-0 left-0 flex flex-col rounded-sm shadow-md\" \n     style=\"transform: translate({window.x}px, {window.y}px); \n            width: {window.width}px; \n            height: {window.height}px;\n            z-index: {z};\"\n     on:wheel|stopPropagation\n     on:mousedown|stopPropagation={() => windowPanelMouseDown(window)}\n>\n  <div class=\"flex items-center justify-between items-center cursor-move bg-gray-800 p-1\"\n       on:mousedown={e => windowTitleMouseDown(e, window)}\n  >\n\n    <div class=\"tab active\">\n      {titleName}\n    </div>\n    <div class=\"cursor-pointer text-red-500 text-md\"\n      on:click|stopPropagation={() => closeWindow(window)}\n    >\n      <Icon icon={faTimes} />\n    </div>\n  </div>\n\n  <div class=\"tabContent\">\n    <TabContent tab={window.tab} />\n  </div>\n\n  <div class=\"w-full bottom-thing bg-gray-800 text-right\"\n       on:mousedown={e => windowBottomMouseDown(e, window)}\n  ></div>\n\n</div>\n\n\n<style lang=\"postcss\">.window{opacity:.95}.bottom-thing{min-height:1rem;max-height:1rem;cursor:nwse-resize}\n/*# sourceMappingURL=src/components/ui/Window.svelte.map */</style>",
    "\n<script>\n  import { tick } from \"svelte\"\n\n  import Tooltip from \"./Tooltip.svelte\"\n  import ColorPicker from \"./ColorPicker.svelte\"\n  import Slider from \"./Slider.svelte\"\n\n  import * as M from \"/util/Maybe\"\n  import * as util from \"/data/base/util\"\n  import { typeNames } from \"/data/editor/Platform\"\n\n\n  let className = \"\"\n  export { className as class }\n\n\n  export let value\n  export let set = null\n\n\n  export let disabled = false\n  export let placeholder = \"\"\n  export let sub = \"\"\n  export let center = false\n\n\n  // Type of value\n\n  export let color = false\n\n  export let int = false\n  export let float = false\n  export let min = -Infinity\n  export let max = +Infinity\n\n  export let sliderMin = min !== -Infinity ? min : null\n  export let sliderMax = max !== +Infinity ? max : null\n  export let step = 1\n\n  export let platform = false\n\n\n  export let preview = true\n\n\n  let inputElement\n  let internalValue\n  let focused = false\n  let invalid = false\n\n\n\n  $: if(!focused) internalValue = value\n\n  function onFocus() {\n    focused = true\n  }\n  async function onBlur() {\n    focused = false\n    presentationValue = \"\"\n    await tick()\n    internalValue = value\n    invalid = false\n  }\n  function onKeyDown(e) {\n    let key = e.key.toLowerCase()\n    if((key === \"escape\" || key === \"enter\") && focused) {\n      e.stopPropagation()\n      inputElement.blur()\n      return\n    }\n    if((int || float) && (key === \"arrowup\" || key === \"arrowdown\")) { \n      e.stopPropagation()\n      e.preventDefault()\n      let delta = key === \"arrowup\" ? 1 : -1\n      let factor = e.ctrlKey ? 100 : e.shiftKey ? 10 : e.altKey ? 0.1 : 1\n      let newValue = parseFloat((internalValue + delta*factor).toFixed(6))\n      newValue = Math.max(min, Math.min(max, newValue))\n      setNewValue(newValue)\n      return\n    }\n  }\n  \n\n  function onInput(e) {\n    let str = e.target.value\n\n    let newValue\n\n    if(color) {\n      M.andThen( util.readColor(str), \n                 v => newValue = v)\n    }\n\n    else if(int || float) {\n      let read = int ? util.readInt : util.readFloat\n      M.andThen( read(str), \n                 M.iff(v => v >= min && v <= max), \n                 v => newValue = v)\n    }\n\n    else setNewValue(str)\n\n    if(newValue !== undefined) {\n      setNewValue(newValue)\n    }\n    else invalid = true\n  }\n\n  function setNewValue(newValue) {\n    invalid = false\n    console.log(\"setNewValue\", newValue)\n    internalValue = newValue\n    if(newValue !== value) {\n      value = newValue\n      if(set) set(value)\n    }\n  }\n\n  $: presentationValue =\n        focused \n          ? internalValue \n          : (internalValue === undefined || internalValue === null) \n              ? \"\" \n              : float ? Math.round(internalValue*100)/100 \n              : int ? Math.round(internalValue) \n              : internalValue\n\n  $: hasTooltip = color || int || float\n\n</script>\n\n\n<Tooltip noStyle top active={hasTooltip && focused}>\n\n  {#if preview}\n    {#if color}\n      <div class=\"preview\" style=\"background: #{internalValue}\"></div>\n    {:else if platform}\n      <img class=\"preview\" src=\"dist/grounds/{typeNames[internalValue]}.png\"/>\n    {/if}\n  {/if}\n\n  <div class=\"material-input {className}\" class:disabled={disabled} class:invalid={invalid} >\n    <input type=\"text\" \n      bind:this={inputElement} \n      value={presentationValue}\n      disabled={disabled} \n      placeholder={placeholder}\n      class:text-center={center}\n      on:focus={onFocus} on:blur={onBlur} \n      on:input={onInput} \n      on:keydown={onKeyDown} \n      on:focus on:blur on:input on:change on:click on:mousedown on:mouseup\n    />\n    {#if sub}\n      <span class=\"absolute top-0 right-0 mr-1 text-xs text-gray-400 italic uptop\">\n        {sub}\n      </span>\n    {/if}\n  </div>\n\n  <div slot=\"tooltip\" on:mousedown|preventDefault|stopPropagation\n    class=\"pointer-events-auto shadow-lg rounded bg-gray-900\" \n  >\n    {#if color}\n      <ColorPicker bind:value={internalValue} on:input={() => setNewValue(internalValue)} on:input />\n    {:else if platform}\n      <div class=\"flex flex-wrap justify-center p-2 \">\n        {#each typeNames as name, type}\n          <div class=\"tile dim-40\" class:active={type == internalValue}\n              on:click={() => setNewValue(type)}\n          >\n            <img class=\"rounded-sm\" src=\"dist/grounds/{name}.png\" alt={name}/>\n          </div>\n        {/each}\n      </div>\n    {:else if (sliderMin !== null && sliderMax !== null)}\n      <div class=\"p-2\">\n        <Slider min={sliderMin} max={sliderMax} {step} \n                bind:value={internalValue} on:input={() => setNewValue(internalValue)} />\n      </div>\n    {/if}\n  </div>\n\n</Tooltip>\n\n\n<style lang=\"text/postcss\">.preview{width:1rem;height:1rem;margin-right:.5rem;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06);border-radius:.125rem;cursor:pointer}.uptop{-webkit-transform:translateY(-100%);transform:translateY(-100%);line-height:.8rem}\n/*# sourceMappingURL=src/components/common/TextInput.svelte.map */</style>",
    "<script>\n\n  export let disabled = false\n\n  let className = \"\"\n  export {className as class}\n  \n</script>\n\n<button on:click\n  disabled={disabled}\n  class=\"text-white space border-none outline-none bg-blue-600 rounded-sm select-none {className}\"\n>\n  <slot></slot>\n</button>\n\n<style type=\"text/postcss\">.space{padding:.25rem .75rem}button[disabled]{opacity:.6;cursor:not-allowed}button:not([disabled]):hover{background-color:#63b3ed}\n/*# sourceMappingURL=src/components/common/Button.svelte.map */</style>\n",
    "\n<script>\n\n  import { fly } from \"svelte/transition\"\n  \n  let className = \"\"\n  export { className as class }\n\n  export let active\n\n  export let title = \"Tooltip\"\n  export let inline = false\n  export let noStyle = false\n  export let noBorder = false\n\n  export let top = false\n  export let bottom = false\n  export let left = false\n  export let right = false\n  export let start = false\n  export let end = false\n\n  left || right || top || (bottom = true)\n\n  let hovering = false\n  \n  $: visible = active === true ? true \n             : active === false ? false \n             : hovering\n\n  $: flyDirectionOptions =\n    left    ? { x:  10 } :\n    right   ? { x: -10 } :\n    top     ? { y:  10 } :\n    bottom  ? { y: -10 } : {}\n  $: flyOptions = {\n    ...flyDirectionOptions,\n    duration: 150,\n  }\n\n  let targetElement\n  let tooltipElement\n\n  $: tooltipElement, positionTooltip()\n  function positionTooltip(force = false) {\n    if(!tooltipElement || !targetElement) return\n\n    let targetRect  = targetElement.getBoundingClientRect()\n    let tooltipRect = tooltipElement.getBoundingClientRect()\n\n    let fullWidth  = document.body.offsetWidth\n    let fullHeight = document.body.offsetHeight\n\n    let x = 0, y = 0\n    if(top) {    \n      tooltipElement.style.top = 0\n      y = targetRect.top - tooltipRect.height\n    }\n    if(bottom) { \n      tooltipElement.style.top = 0\n      y = targetRect.bottom\n    }\n    if(top || bottom) {\n      tooltipElement.style.left = 0\n      x = start ? targetRect.left \n        : end   ? targetRect.right - tooltipRect.width\n                : (targetRect.right + targetRect.left)/2 - tooltipRect.width/2\n    }\n    if(left) {   \n      tooltipElement.style.left = 0\n      x = targetRect.left - tooltipRect.width\n    }\n    if(right) {  \n      tooltipElement.style.left = 0\n      x = targetRect.right\n    }\n    if(left || right) {\n      tooltipElement.style.top = 0\n      y = start ? targetRect.top \n        : end   ? targetRect.bottom - tooltipRect.height\n                : (targetRect.bottom + targetRect.top)/2 - tooltipRect.height/2\n    }\n\n    if(!force) {\n      let overflows = false\n      if(y < 0) {\n        if(top) {\n          top = false\n          bottom = true\n        }\n        else y = 0\n        overflows = true\n      }\n      if(y + tooltipRect.height > fullHeight) {\n        if(bottom) {\n          bottom = false\n          top = true\n        }\n        else y = fullHeight - tooltipRect.height\n        overflows = true\n      }\n      if(x < 0) {\n        if(left) {\n          left = false\n          right = true\n        }\n        else x = 0\n        overflows = true\n      }\n      if(x + tooltipRect.width > fullWidth) {\n        if(right) {\n          right = false\n          left = true\n        }\n        else x = fullWidth - tooltipRect.width\n        overflows = true\n      }\n      if(overflows)\n        return positionTooltip(true)\n    }\n    else {\n      if(y < 0) \n        y = 0\n      if(y + tooltipRect.height > fullHeight)\n        y = fullHeight - tooltipRect.height\n      if(x < 0)\n        x = 0\n      if(x + tooltipRect.width > fullWidth)\n        x = fullWidth - tooltipRect.width\n    }\n    \n    {\n      let firstPositionedAncestor\n      let el = tooltipElement\n      while(el.parentElement) {\n        el = el.parentElement\n        let position = getComputedStyle(el).position\n        if(position !== \"static\") {\n          firstPositionedAncestor = el\n          break\n        }\n      }\n      if(firstPositionedAncestor) {\n        let rect = firstPositionedAncestor.getBoundingClientRect()\n        x -= rect.x\n        y -= rect.y\n      }\n    }\n\n    tooltipElement.style.transform = `translate(${x}px,${y}px)`\n  }\n\n</script>\n\n<div bind:this={targetElement}\n     class={className || \"flex items-center\"}\n     on:mouseenter={() => hovering = true} \n     on:mouseleave={() => hovering = false} \n>\n  <slot></slot>\n  {#if visible}\n  <div bind:this={tooltipElement}\n       no=\"transition:fly={flyOptions}\"\n       class=\"tooltip\" class:border={!noBorder} \n  >\n    <div class:inner={!noStyle}>\n      <slot name=\"tooltip\">\n        <span class=\" pointer-events-all whitespace-no-wrap\">{title}</span>\n      </slot>\n    </div>\n  </div>\n  {/if}\n</div>\n\n\n\n<style lang=\"text/postcss\">.tooltip{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:30}.tooltip.border{border:5px solid transparent}.inner{border-width:1px;box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);border-radius:.125rem;padding:.25rem .5rem;color:#f7fafc;font-size:.75rem;background:rgba(0,0,0,.8);border-color:#000}.tooltip.bottom{bottom:0;-webkit-transform:translateY(100%);transform:translateY(100%)}.tooltip.top{top:0;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.tooltip.bottom:not(.start):not(.end){left:50%;-webkit-transform:translateY(100%) translateX(-50%);transform:translateY(100%) translateX(-50%)}.tooltip.top:not(.start):not(.end){left:50%;-webkit-transform:translateY(-100%) translateX(-50%);transform:translateY(-100%) translateX(-50%)}.tooltip.bottom.start,.tooltip.top.start{left:0;border-left:none}.tooltip.bottom.end,.tooltip.top.end{right:0;border-right:0}.tooltip.left{left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.tooltip.right{right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.tooltip.left:not(.start):not(.end){top:50%;-webkit-transform:translateX(-100%) translateY(-50%);transform:translateX(-100%) translateY(-50%)}.tooltip.right:not(.start):not(.end){top:50%;-webkit-transform:translateX(100%) translateY(-50%);transform:translateX(100%) translateY(-50%)}.tooltip.left.start,.tooltip.right.start{top:0;border-top:none}.tooltip.left.end,.tooltip.right.end{bottom:0;border-bottom:none}\n/*# sourceMappingURL=src/components/common/Tooltip.svelte.map */</style>",
    "\n<script>\n\n  import { slide, fly } from \"svelte/transition\"\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import ColorTextInput from \"/components/common/ColorTextInput.svelte\"\n\n  import { showGameGUI, showMapBorder, showInvisibleGrounds, grid } from \"/state/user\"\n  import { _ } from \"/state/locale\"\n\n</script>\n\n\n<div class=\"flex\">\n\n  <div class=\"flex-grow flex flex-col\">\n\n    <section>\n      <label class=\"flex items-center\">\n        <input type=\"checkbox\" bind:checked={$showGameGUI}/>\n        <span class=\"text-sm gray-200 ml-2\">{$_(\"show-game-gui\")}</span>\n      </label>\n    </section>\n    <section>\n      <label class=\"flex items-center\">\n        <input type=\"checkbox\" bind:checked={$showMapBorder}/>\n        <span class=\"text-sm gray-200 ml-2\">{$_(\"show-map-border\")}</span>\n      </label>\n    </section>\n    <section>\n      <label class=\"flex items-center\">\n        <input type=\"checkbox\" bind:checked={$showInvisibleGrounds}/>\n        <span class=\"text-sm gray-200 ml-2\">{$_(\"show-invisible-grounds\")}</span>\n      </label>\n    </section>\n\n    <div class=\"mb-2\"></div>\n\n    <section>\n      <label class=\"flex items-center\">\n        <input type=\"checkbox\" bind:checked={$grid.enabled}/>\n        <span class=\"text-sm gray-200 ml-2\">{$_(\"show-grid\")}...</span>\n      </label>\n    </section>\n    {#if $grid.enabled}\n    <div transition:fly={{y:-10, duration: 60}} class=\"border-l-2 pl-3 border-white\">\n      <section>\n        <label>\n          <span>L</span>\n          <span class=\"w-12\">\n            <TextInput number bind:value={$grid.width} />\n          </span>\n        </label>\n        <label>\n          <span>H</span>\n          <span class=\"w-12\">\n            <TextInput number bind:value={$grid.height} />\n          </span>\n        </label>\n      </section>\n      <section>\n        <label class=\"\">\n          <span>{$_(\"grid-color\")}</span>\n          <div class=\"color-tile cursor-pointer\" style=\"background: #{$grid.color}\"></div>\n          <span class=\"w-24\">\n            <ColorTextInput bind:value={$grid.color} />\n          </span>\n        </label>\n      </section>\n    </div>\n    {/if}\n\n  </div>\n\n  <!-- <div class=\"ml-2 pl-2 border-l border-gray-200\" >\n    \n  </div> -->\n\n</div>\n\n\n<style>label,section{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}label{-webkit-transition:.2s;transition:.2s;-webkit-box-pack:justify;justify-content:space-between}label+label{margin-left:1rem}label>span,small-text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;margin-right:.75rem;font-size:.875rem;color:#e2e8f0}.color-tile{padding:.5rem;margin-right:.5rem;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06);border-radius:.25rem}\n/*# sourceMappingURL=src/components/ui/UserSettings.svelte.map */</style>",
    "\n<script>\n\n  import CodeMirror from \"codemirror\"\n  import \"codemirror/mode/xml/xml.js\"\n\n  import beautify from \"xml-beautifier\"\n\n  import { tick, onMount } from \"svelte\"\n  \n  import xml from \"/state/xml\"\n\n  let currentXML = null\n  let prettyXML\n  $: getPrettyXML($xml)\n  function getPrettyXML() {\n    if(currentXML === null || currentXML !== $xml) {\n      prettyXML = beautify($xml, \"  \")\n    }\n  }\n  \n  let textareaElement, cm\n\n  $: if(cm) cm.setValue(prettyXML)\n\n  onMount(() => {\n    cm = CodeMirror.fromTextArea(textareaElement, { \n      lineNumbers: true, \n      mode: \"xml\",\n      theme: \"lucario\",\n    })\n    cm.on(\"change\", cm => {\n      if(cm.getValue() === prettyXML) return\n      $xml = currentXML = cm.getValue().replace(/>[\\t\\n ]+</g, \"><\")\n    })\n  })\n\n</script>\n\n<pre>\n  <code>\n    <textarea \n      bind:this={textareaElement}\n    ></textarea>\n  </code>\n</pre>\n\n<style lang=\"text/postcss\">:global(.CodeMirror){height:70vh}\n/*# sourceMappingURL=src/components/ui/XmlEditor.svelte.map */</style>",
    "\n<script>\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n\n  import { _ } from \"/state/locale\"\n\n  let data = [\n    {\n      context: \"Global\",\n      rows: [\n        {\n          inputs: [\"Space\", \"Drag\"],\n          description: $_(\"move-camera\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"Scroll\"],\n          description: $_(\"button-zoom\"),\n        },\n        {\n          inputs: [\"Click/Drag\"],\n          description: $_(\"select-unselect\"),\n        },\n        {\n          inputs: [\"Shift\", \"Click/Drag\"],\n          description: $_(\"select-unselect\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"A\"],\n          description: $_(\"select-all\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"Shift\", \"A\"],\n          description: $_(\"unselect-all\"),\n        },\n        {\n          inputs: [\"Escape\"],\n          description: $_(\"reset-camera\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"Z\"],\n          description: $_(\"button-undo\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"Y\"],\n          description: $_(\"button-redo\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"Shift\", \"Z\"],\n          description: $_(\"button-redo\"),\n        },\n      ],\n    },\n\n    {\n      context: \"Selection\",\n      rows: [\n        {\n          inputs: [\"Drag\"],\n          description: $_(\"move-selection\"),\n        },\n        {\n          inputs: [\"Arrows\"],\n          description: $_(\"move-selection\"),\n        },\n        {\n          inputs: [\"Shift\", \"Arrows\"],\n          description: $_(\"move-selection\") + \" (±10)\",\n        },\n        {\n          inputs: [\"Ctrl\", \"Arrows\"],\n          description: $_(\"move-selection\") + \" (±100)\",\n        },\n        {\n          inputs: [\"Scroll\"],\n          description: $_(\"rotate\"),\n        },\n        {\n          inputs: [\"Shift\", \"Scroll\"],\n          description: $_(\"rotate-around-cursor\"),\n        },\n        {\n          inputs: [\"Alt\", \"Scroll\"],\n          description: $_(\"rotate-slower\"),\n        },\n        {\n          inputs: [\"Delete\"],\n          description: $_(\"button-delete\"),\n        },\n        {\n          inputs: [\"D\"],\n          description: $_(\"button-duplicate\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"C\"],\n          description: $_(\"button-copy\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"X\"],\n          description: $_(\"cut\"),\n        },\n        {\n          inputs: [\"Ctrl\", \"V\"],\n          description: $_(\"paste\"),\n        },\n      ],\n    },\n    {\n      context: \"Numbers\",\n      rows: [\n        {\n          inputs: [\"Up/Down\"],\n          description: \"± 1\",\n        },\n        {\n          inputs: [\"Shift\", \"Up/Down\"],\n          description: \"± 10\",\n        },\n        {\n          inputs: [\"Ctrl\", \"Up/Down\"],\n          description: \"± 100\",\n        },\n        {\n          inputs: [\"Alt\", \"Up/Down\"],\n          description: \"± 0.1\",\n        },\n      ]\n    },\n    // {\n    //   context: \"Buttons\",\n    //   rows: [\n    //     {\n    //       inputs: [\"Click\"],\n    //       description: \"± 1\",\n    //     },\n    //     {\n    //       inputs: [\"Shift\", \"Click\"],\n    //       description: \"± 10\",\n    //     },\n    //     {\n    //       inputs: [\"Ctrl\", \"Click\"],\n    //       description: \"± 100\",\n    //     },\n    //     {\n    //       inputs: [\"Alt\", \"Click\"],\n    //       description: \"± 0.1\",\n    //     },\n    //   ]\n    // }\n\n  ]\n\n  let numberValue = 1\n</script>\n\n\n<div class=\"container\">\n  {#each data as {context, rows}}\n  <label class=\"context\">\n    <span class=\"mr-2\">{context}</span>\n    {#if context === \"Numbers\"}\n    <TextInput number bind:value={numberValue} />\n    {:else if context === \"Buttons\"}\n    <Button class=\"text-sm\" on:click={() => numberValue++}>+</Button>\n    {/if}\n  </label>\n  <table class=\"table\">\n    {#each rows as {inputs, description}}\n    <tr class=\"row\">\n      <td class=\"inputs\">\n        {#each inputs as input}\n        <div class=\"input\">{input}</div> \n        {/each}\n      </td>\n      <td class=\"description\">{description}</td>\n    </tr>\n    {/each}\n  </table>\n  {/each}\n</div>\n\n\n\n<style lang=\"text/postcss\">.container{overflow:auto;max-height:70vh}.context:not(:last-child){margin-top:.5rem}.context{font-size:1.125rem;color:#f7fafc;margin-bottom:.5rem;margin-left:.5rem;margin-right:.5rem;display:-webkit-box;display:flex}.row{font-size:.875rem;margin-bottom:.25rem}.inputs{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.input{background-color:#edf2f7;border-color:#000;color:#2d3748;border-radius:.125rem;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06);padding-left:.5rem;padding-right:.5rem;font-size:.75rem;margin-left:.25rem;margin-right:.25rem}.description{padding-left:1rem;text-align:left}\n/*# sourceMappingURL=src/components/ui/HelpMenu.svelte.map */</style>",
    "\n<script>\n  import { language, _, localeFlag, localeTranslators } from \"/state/locale\"\n\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n\n  function formatTranslatorsTooltipTitle(list) {\n    if(!list || !list.length) return \"\"\n    return `By ${list.join(\", \")}`\n  }\n\n</script>\n\n<div class=\"container\">\n  {#each Object.entries(localeFlag) as [locale, flag]}\n  <Tooltip bottom inline\n    active={ localeTranslators[locale] !== undefined ? null : false }\n    title={ formatTranslatorsTooltipTitle(localeTranslators[locale]) }\n  >\n    <div class=\"m-1 cursor-pointer flag flag-{flag}\"\n      on:click={() => $language = locale}\n    ></div>\n  </Tooltip>\n  {/each}\n  <div class=\"mt-2 text-sm\">\n    <Tooltip bottom title=\"Send me an email with the language(s) you want to translate!\">\n      <a href=\"mailto:thibautguenedal@gmail.com\">\n        Help translate!\n      </a>\n    </Tooltip>\n  </div>\n</div>\n\n\n<style lang=\"text/postcss\">.container{max-height:70vh;text-align:center}.row{font-size:.875rem;margin-bottom:.25rem}.description{padding-left:1rem;text-align:left}a{-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#fff;font-weight:700}\n/*# sourceMappingURL=src/components/ui/LanguageMenu.svelte.map */</style>",
    "\n<script>\n  import { tick } from \"svelte\"\n  import { slide, fly } from \"svelte/transition\"\n\n  import Icon from \"fa-svelte\"\n  import { faUndo } from \"@fortawesome/free-solid-svg-icons/faUndo\"\n  import { faEye } from \"@fortawesome/free-solid-svg-icons/faEye\"\n  import { faEyeSlash } from \"@fortawesome/free-solid-svg-icons/faEyeSlash\"\n  import { faTrashAlt as faTrash } from \"@fortawesome/free-solid-svg-icons/faTrashAlt\"\n  import { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\n  import { faCircle } from \"@fortawesome/free-solid-svg-icons/faCircle\"\n  import { faCheckCircle } from \"@fortawesome/free-solid-svg-icons/faCheckCircle\"\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n  import ColorTextInput from \"/components/common/ColorTextInput.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n  import Checkbox from \"/components/common/Checkbox.svelte\"\n  import CheckboxItem from \"/components/common/CheckboxItem.svelte\"\n\n//  import ImagesSubMenu from \"/components/ui/ImagesSubMenu.svelte\"\n\n  import { _ } from \"/state/locale\"\n  import { mapSettings, updateMiceSpawn } from \"/state/map\"\n  import { parkourMode, setParkourMode } from \"/state/mapExtra\"\n  \n  import * as sceneObjects from \"/state/sceneObjects\"\n  function updateDecorations() {\n    for(let cheese of sceneObjects.groups.decorations.filter(obj => obj.type === \"F\"))\n      cheese.invalidate()\n  }\n\n  $: maxWidth  = $mapSettings.defilante.enabled ? 4800 : 1600\n  $: maxHeight = 800\n\n</script>\n\n<div class=\"form\">\n\n  <div class=\"mb-2\"></div>\n\n  <div class=\"flex\">\n    <label>\n      <span>L</span>\n      <TextInput int min={800} sliderMax={maxWidth} sub=\"max: {maxWidth}\" bind:value={$mapSettings.width} />\n    </label>\n  <div class=\"mr-3\"></div>\n    <label>\n      <span>H</span>\n      <TextInput int min={400} sliderMax={maxHeight} sub=\"max: {maxHeight}\" bind:value={$mapSettings.height} />\n    </label>\n  </div>\n\n  <div class=\"mb-4\"></div>\n\n  <label>\n    <span>{$_(\"defilante-mode\")}...</span>\n    <Checkbox bind:checked={$mapSettings.defilante.enabled}  />\n  </label>\n  {#if $mapSettings.defilante.enabled}\n  <div class=\"submenu\" transition:fly={{duration: 80, y:-50}}>\n    <label>\n      <span>{$_(\"defilante-start-speed\")}</span>\n      <TextInput float min={0} bind:value={$mapSettings.defilante.startSpeed} class=\"w-16\"/>\n    </label>\n    <label>\n      <span>{$_(\"defilante-acceleration\")}</span>\n      <TextInput float min={0} bind:value={$mapSettings.defilante.acceleration} class=\"w-16\"/>\n    </label>\n    <label>\n      <span>{$_(\"defilante-maximum-speed\")}</span>\n      <TextInput float min={0} bind:value={$mapSettings.defilante.maxSpeed} class=\"w-16\"/>\n    </label>\n    <label class=\"mt-1\">\n      <span>{$_(\"defilante-free-scroll\")}</span>\n      <Checkbox bind:checked={$mapSettings.defilante.freeScroll}  />\n    </label>\n  </div>\n  {/if}  \n  \n  <div class=\"mb-4\"></div>\n\n  <label>\n    <span>{$_(\"background\")}</span>\n    <div class=\"material-input w-32\">\n      <select bind:value={$mapSettings.backgroundImageId} >\n        <option value=\"-1\">{$_(\"none\")}</option>\n        <option value=\"-2\">{$_(\"random\")}</option>\n        <option value=\"0\">{$_(\"background0\")}</option>\n        <option value=\"1\">{$_(\"background1\")}</option>\n        <option value=\"2\">{$_(\"background2\")}</option>\n        <option value=\"3\">{$_(\"background3\")}</option>\n        <option value=\"4\">{$_(\"background4\")}</option>\n        <option value=\"5\">{$_(\"background5\")}</option>\n        <option value=\"6\">{$_(\"background6\")}</option>\n        <option value=\"7\">{$_(\"background7\")}</option>\n        <option value=\"8\">{$_(\"background8\")}</option>\n      </select>\n    </div>\n  </label>\n\n  <div class=\"mb-1\"></div>\n\n  <section>\n    <label>\n      <span>{$_(\"theme\")}</span>\n      <div class=\"material-input w-32\">\n        <select bind:value={$mapSettings.theme} on:change={updateDecorations}>\n          <option value=\"\">{$_(\"none\")}</option>\n          <option value=\"halloween\">{$_(\"background4\")}</option>\n        </select>\n      </div>\n    </label>\n  </section>\n\n  <div class=\"mb-4\"></div>\n\n  <label>\n    <span>{$_(\"gravity\")}</span>\n    <div class=\"flex\">\n      <label class=\"icon-btn text-xs mr-2\" on:click={() => $mapSettings.gravity = 10} >\n        <Icon icon={faUndo} />\n      </label>\n      <TextInput float sliderMin={-50} sliderMax={50} bind:value={$mapSettings.gravity} class=\"w-16\" />\n    </div>\n  </label>\n  <div class=\"mb-1\"></div>\n  <label>\n    <span>{$_(\"wind\")}</span>\n    <div class=\"flex\">\n      <label class=\"icon-btn text-xs mr-2\" on:click={() => $mapSettings.wind = 0} >\n        <Icon icon={faUndo} />\n      </label>\n      <TextInput float sliderMin={-50} sliderMax={50} bind:value={$mapSettings.wind} class=\"w-16\" />\n    </div>\n  </label>\n\n  <div class=\"mb-4\"></div>\n\n  <div class=\"boolean-props\">\n    <label>\n      <span>{$_(\"allow-portals\")}</span>\n      <Checkbox bind:checked={$mapSettings.portals}  />\n    </label>\n    <label>\n      <span>{$_(\"enable-mouse-collisions\")}</span>\n      <Checkbox bind:checked={$mapSettings.collisions}  />\n    </label>\n    <label>\n      <span>{$_(\"soulmate-mode\")}</span>\n      <Checkbox bind:checked={$mapSettings.soulmate}  />\n    </label>\n    <label>\n      <span>{$_(\"night-mode\")}</span>\n      <Checkbox bind:checked={$mapSettings.night}  />\n    </label>\n    <label>\n      <span>{$_(\"hide-offscreen\")}</span>\n      <Checkbox bind:checked={$mapSettings.hideOffscreen}  />\n    </label>\n    <label>\n      <span>{$_(\"hide-anchors\")}</span>\n      <Checkbox bind:checked={$mapSettings.hideNails}  />\n    </label>\n    <label>\n      <span>{$_(\"cannonballs-up\")}</span>\n      <Checkbox bind:checked={$mapSettings.upwardsCannonballs}  />\n    </label>\n    <label>\n      <span>{$_(\"dodue\")}</span>\n      <Checkbox bind:checked={$mapSettings.dodue} on:change={updateDecorations} />\n    </label>\n    <label>\n      <span>Aie</span>\n      <Checkbox bind:checked={$mapSettings.aie}  />\n    </label>\n  </div>\n\n  <div class=\"mb-4\"></div>\n\n  <label>\n    <span>{$_(\"mice-spawn\")}</span>\n    <div class=\"material-input w-32\">\n      <select value={$mapSettings.miceSpawn.type === \"random\" \n                       ? \"random\"+$mapSettings.miceSpawn.axis.toUpperCase() \n                       : $mapSettings.miceSpawn.type} \n              on:change={e => updateMiceSpawn(e.target.value)}>\n        <option value=\"normal\">{$_(\"mice-spawn-normal\")}</option>\n        <option value=\"multiple\">{$_(\"mice-spawn-multiple\")}</option>\n        <option value=\"randomX\">{$_(\"random-spawn\")} X</option>\n        <option value=\"randomY\">{$_(\"random-spawn\")} Y</option>\n      </select>\n    </div>\n  </label>\n\n  <div class=\"mb-4\"></div>\n\n  <label>\n    <span>{$_(\"shaman_objects\")}: {$_(\"mass\")}</span>\n    <TextInput float bind:value={$mapSettings.shamanObjectsMass} class=\"w-16\" />\n  </label>\n\n  <div class=\"mb-4\"></div>\n\n  <div class=\"flex flex-wrap justify-around\">\n    <Button disabled={$parkourMode} on:click={setParkourMode}>#parkour</Button>\n  </div>\n\n</div>\n\n\n<style lang=\"text/postcss\">.boolean-props label:not(:last-child){margin-bottom:.5rem}\n/*# sourceMappingURL=src/components/ui/menus/MapSettingsMenu.svelte.map */</style>",
    "\n<script>\n  import { tick } from \"svelte\"\n  import { slide, fly } from \"svelte/transition\"\n\n  import Icon from \"fa-svelte\"\n  import { faUndo } from \"@fortawesome/free-solid-svg-icons/faUndo\"\n  import { faEye } from \"@fortawesome/free-solid-svg-icons/faEye\"\n  import { faEyeSlash } from \"@fortawesome/free-solid-svg-icons/faEyeSlash\"\n  import { faTrashAlt as faTrash } from \"@fortawesome/free-solid-svg-icons/faTrashAlt\"\n  import { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\n  import { faCircle } from \"@fortawesome/free-solid-svg-icons/faCircle\"\n  import { faCheckCircle } from \"@fortawesome/free-solid-svg-icons/faCheckCircle\"\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n  import ColorTextInput from \"/components/common/ColorTextInput.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n  import Checkbox from \"/components/common/Checkbox.svelte\"\n  import CheckboxItem from \"/components/common/CheckboxItem.svelte\"\n\n  import { _ } from \"/state/locale\"\n\n\n  //import * as sceneObjects from \"/state/sceneObjects\"\n  import * as selection from \"/state/selection\"\n\n  import Platforms from \"/components/ui/menus/selectionMenu/Platforms.svelte\"\n  import Decorations from \"/components/ui/menus/selectionMenu/Decorations.svelte\"\n  import ShamanObjects from \"/components/ui/menus/selectionMenu/ShamanObjects.svelte\"\n  import Images from \"/components/ui/menus/selectionMenu/Images.svelte\"\n  import Joints from \"/components/ui/menus/selectionMenu/Joints.svelte\"\n\n\n  import { properties, groups } from \"state/selectionProperties\"\n  console.log(\"properties\", $properties, \"groups\", $groups)\n\n  $: numCategories = Object.values($groups)\n        .map(g => g.length)\n        .filter(x => x > 0)\n        .length\n        \n  $: displayCategoryTitles = numCategories > 1\n  \n  function shiftIndex(e, dz) {\n    if(e.shiftKey) dz *= 10\n    if(e.ctrlKey)  dz *= 100\n    selection.shiftIndex(dz)\n  }\n\n</script>\n\n<div class=\"form\">\n\n\n  {#if numCategories > 0}\n    <div class=\"category\">\n      <label>\n        <span>Z</span>\n        <div class=\"flex\">\n          <Button on:click={e => shiftIndex(e, -1)}>-1</Button>\n          <div class=\"mr-2\"></div>\n          <Button on:click={e => shiftIndex(e, +1)}>+1</Button>\n        </div>\n      </label>  \n    </div>\n  {/if}\n\n\n  {#if $groups.PLATFORM.length}\n    <div class=\"category\">\n      {#if displayCategoryTitles}\n        <div class=\"category-title\">{$_(\"category-grounds\")}</div>\n      {/if}\n      <Platforms props={$properties.PLATFORM} />\n    </div>\n  {/if}\n\n  {#if $groups.JOINT.length}\n    <div class=\"category\">\n      {#if displayCategoryTitles}\n        <div class=\"category-title\">{$_(\"category-lines\")}</div>\n      {/if}\n      <Joints props={$properties.JOINT} />\n    </div>\n  {/if}\n  \n  {#if $groups.DECORATION.length}\n    <div class=\"category\">\n      {#if displayCategoryTitles}\n        <div class=\"category-title\">{$_(\"category-decorations\")}</div>\n      {/if}\n      <Decorations props={$properties.DECORATION} />\n    </div>\n  {/if}  \n  \n  {#if $groups.SHAMANOBJECT.length}\n    <div class=\"category\">\n      {#if displayCategoryTitles}\n        <div class=\"category-title\">{$_(\"shaman_objects\")}</div>\n      {/if}\n      <ShamanObjects props={$properties.SHAMANOBJECT} />\n    </div>\n  {/if}  \n\n  {#if $groups.IMAGE.length}\n    <div class=\"category\">\n      {#if displayCategoryTitles}\n        <div class=\"category-title\">{$_(\"category-images\")}</div>\n      {/if}\n      <Images props={$properties.IMAGE} />\n    </div>\n  {/if}\n\n</div>\n\n\n\n<style lang=\"text/postcss\">.category{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.category-title,.category:not(:last-child){margin-bottom:1rem}.category-title{color:#edf2f7;font-weight:700;font-size:.75rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.category-title:after,.category-title:before{content:\"\";margin-left:.25rem;margin-right:.25rem;-webkit-box-flex:1;flex-grow:1;height:.25rem;border-bottom:2px;border-style:dashed;border-color:#a0aec0}\n/*# sourceMappingURL=src/components/ui/menus/SelectionMenu.svelte.map */</style>",
    "\n<script>\n  import { slide, fly } from \"svelte/transition\"\n\n  import Icon from \"fa-svelte\"\n  import { faPenNib } from \"@fortawesome/free-solid-svg-icons/faPenNib\"\n  import { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\n  import { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n  import ColorTextInput from \"/components/common/ColorTextInput.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n  import Checkbox from \"/components/common/Checkbox.svelte\"\n\n  import * as Creation from \"/state/creation\"\n  import { creation } from \"/state/creation\"\n  import { brushPalette, brushDefaults } from \"/state/user\"\n\n  import { _ } from \"/state/locale\"\n\n\n  $: activeBrush = $creation.enabled && $creation.creationType === \"LINE\"\n        ? $creation.brush\n        : null\n\n  function addBrush() {\n    let newBrush = activeBrush\n      ? { ...activeBrush }\n      : brushDefaults()\n    $brushPalette = [...$brushPalette, newBrush]\n\n    Creation.disable()\n    Creation.setLine(newBrush)\n  }\n  function removeBrush(brush) {\n    $brushPalette = $brushPalette.filter(b => b !== brush)\n    if(brush === activeBrush)\n      Creation.disable()\n  }\n\n  function updateActiveBrush() {\n    $brushPalette = $brushPalette\n    creation.invalidate()\n  }\n\n</script>\n\n<div class=\"form\">\n\n  <div class=\"flex flex-wrap\">\n\n    {#each $brushPalette as brush}\n      <div class=\"tile outline-outside dim-40 bg-tfm-blue rounded-sm overflow-hidden relative\" \n          class:active={brush === activeBrush}\n          on:click={() => Creation.setLine(brush)}\n      >\n        <div class=\"brush-preview\" \n            style=\"background: #{brush.color}; opacity: {brush.opacity}; width: {brush.thickness}px; height: {brush.thickness}px;\"\n        ></div>\n        \n        <div class=\"brush-remove\"\n            on:click|preventDefault|stopPropagation={() => removeBrush(brush)}\n        >\n          <Icon icon={faTimes} />\n        </div>\n        \n      </div>\n    {/each}\n\n    <Tooltip title={$_(\"button-add\")}>\n      <div class=\"tile dim-40 rounded-sm active opacity-50 hover:opacity-100\"\n            on:click={addBrush}\n      >\n        <Icon icon={faPlus} />\n      </div>\n    </Tooltip>\n\n  </div>\n\n  <div class=\"mb-2\"></div>\n\n  {#if activeBrush}\n    <div class=\"\" transition:fly={{duration: 80, y:-50}}>\n\n      <label>\n        <span>{$_(\"color\")}</span>\n        <TextInput color bind:value={activeBrush.color} set={updateActiveBrush} class=\"w-16\"/>\n      </label>\n\n      <div class=\"mb-1\"></div>\n\n      <label>\n        <span>{$_(\"line-width\")}</span>\n        <TextInput int min={1} max={250} bind:value={activeBrush.thickness} set={updateActiveBrush} class=\"w-16\"/>\n      </label>\n\n      <div class=\"mb-1\"></div>\n\n      <label>\n        <span>{$_(\"opacity\")}</span>\n        <TextInput float min={0} max={1} step={0.01} bind:value={activeBrush.opacity} set={updateActiveBrush} class=\"w-16\"/>\n      </label>\n\n      <div class=\"mb-1\"></div>\n\n      <label >\n        <span>{$_(\"foreground\")}</span>\n        <Checkbox bind:checked={activeBrush.foreground} set={updateActiveBrush} />\n      </label>\n\n      <div class=\"mb-2\"></div>\n\n      <label >\n        <span> \n          <Icon icon={faPenNib} /> \n          {$_(\"curve-tool\")}\n        </span>\n        <Checkbox bind:checked={activeBrush.curveToolEnabled}  />\n      </label>\n\n      {#if activeBrush.curveToolEnabled}\n        <div class=\"submenu mt-1\" transition:fly={{duration: 80, y:-50}}>\n          <label>\n            <span>{$_(\"fineness\")}</span>\n            <TextInput int min={1} sliderMax={16} bind:value={activeBrush.fineness} class=\"w-16\"/>\n          </label>\n        </div>\n      {/if}   \n\n    </div>\n  {/if}\n\n</div>\n\n\n<style lang=\"postcss\">.brush-preview{border-radius:9999px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.brush-remove{position:absolute;color:#e53e3e;font-size:.875rem;top:-6px;right:0;-webkit-transition:opacity 70ms;transition:opacity 70ms;opacity:0}.tile:hover .brush-remove{opacity:1}\n/*# sourceMappingURL=src/components/ui/menus/LinesMenu.svelte.map */</style>\n",
    "\n<script>\n  import { tick } from \"svelte\"\n  import { slide, fly } from \"svelte/transition\"\n\n  import Icon from \"fa-svelte\"\n  import { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\n  import { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\n  import { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons/faExternalLinkAlt\"\n\n  import TextInput from \"/components/common/TextInput.svelte\"\n  import Tooltip from \"/components/common/Tooltip.svelte\"\n  import Button from \"/components/common/Button.svelte\"\n  import Checkbox from \"/components/common/Checkbox.svelte\"\n\n  import * as Editor from \"/data/editor/index\"\n\n  import * as Creation from \"/state/creation\"\n  import { creation } from \"/state/creation\"\n  import { imagePalette } from \"/state/user\"\n\n  import { _ } from \"/state/locale\"\n\n\n  let editingElement\n\n  $: activeImageUrl = $creation.enabled && $creation.creationType === \"IMAGE\"\n        ? $creation.imageUrl\n        : null\n\n  async function addImageUrl() {\n    let newImageUrl = { value: \"\", url: \"\" }\n    $imagePalette = [...$imagePalette, newImageUrl]\n\n    Creation.disable()\n    Creation.setImage(newImageUrl)\n\n    if(editingElement) {\n      await tick()\n      editingElement.scrollIntoView()\n      let input = editingElement.querySelector(\"input\")\n      if(input) input.focus()\n    }\n  }\n\n  function removeImageUrl(imageUrl) {\n    $imagePalette = $imagePalette.filter(b => b !== imageUrl)\n    if(imageUrl === activeImageUrl)\n      Creation.disable()\n  }\n\n  function updateActiveImageUrl() {\n    let {value,url} = Editor.Image.readUrl(activeImageUrl.value)\n    activeImageUrl.value = value\n    activeImageUrl.url = url\n    $imagePalette = $imagePalette\n    creation.invalidate()\n  }\n\n</script>\n\n<div class=\"form\">\n\n  <div class=\"flex flex-wrap justify-center\">\n\n    {#each $imagePalette as imageUrl}\n      <div class=\"tile outline-outside dim-40 bg-tfm-blue rounded-sm overflow-hidden relative\" \n          class:active={imageUrl === activeImageUrl}\n          on:click={() => Creation.setImage(imageUrl)}\n      >\n        \n        <img class=\"dim-max-40\" src={imageUrl.url} alt={imageUrl.value} />\n        \n        <div class=\"image-remove\"\n            on:click|preventDefault|stopPropagation={() => removeImageUrl(imageUrl)}\n        >\n          <Icon icon={faTimes} />\n        </div>\n        \n      </div>\n    {/each}\n\n    <Tooltip title={$_(\"button-add\")}>\n      <div class=\"tile dim-40 rounded-sm active opacity-50 hover:opacity-100\"\n            on:click={addImageUrl}\n      >\n        <Icon icon={faPlus} />\n      </div>\n    </Tooltip>\n\n  </div>\n\n  <div class=\"mb-2\"></div>\n\n  <div bind:this={editingElement} >\n    {#if activeImageUrl}\n      <div transition:fly={{duration: 80, x:50}} class=\"flex flex-wrap justify-center items-center\">\n\n        <div class=\"p-2\" >\n          <label>\n            <span>Url</span>\n            <TextInput bind:value={activeImageUrl.value} on:input={updateActiveImageUrl} />\n          </label>\n        </div>\n\n        <a href=\"http://derpolino.alwaysdata.net/imagetfm/\" target=\"_blank\">\n          <Button class=\"text-xs flex items-center\">\n            <span class=\"mr-1\">Atelier801 Images Database</span>\n            <Icon icon={faExternalLinkAlt} />\n          </Button>\n        </a>\n\n      </div>\n    {/if}\n  </div>\n\n</div>\n\n\n<style lang=\"postcss\">.image-preview{border-radius:9999px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.image-remove{position:absolute;color:#e53e3e;font-size:.875rem;top:-6px;right:0;-webkit-transition:opacity 70ms;transition:opacity 70ms;opacity:0}.tile:hover .image-remove{opacity:1}\n/*# sourceMappingURL=src/components/ui/menus/ImagesMenu.svelte.map */</style>\n",
    "\n<script>\n\n  import Icon from \"fa-svelte\"\n  import { faSquare } from \"@fortawesome/free-solid-svg-icons/faSquare\"\n  import { faCheckSquare } from \"@fortawesome/free-solid-svg-icons/faCheckSquare\"\n  import { faMinusSquare } from \"@fortawesome/free-solid-svg-icons/faMinusSquare\"\n\n  let className = \"\"\n  export {className as class}\n\n  export let checked\n  export let set = null\n\n  function onChange(e) {\n    if(checked) checked = false\n    else checked = true\n    if(set) set(checked)\n  }\n\n  $: icon = checked === true ? faCheckSquare\n          : checked === false ? faSquare\n          : faMinusSquare\n\n</script>\n\n<label class=\"cursor-pointer {className}\">\n\n  <input type=\"checkbox\" checked={checked} on:change={onChange} class=\"hidden\" />\n  <Icon {icon} />\n\n</label>\n\n<style lang=\"text/postcss\">label{line-height:0}\n/*# sourceMappingURL=src/components/common/Checkbox.svelte.map */</style>\n",
    "\n<script>\n\n  import cc from \"color-convert\"\n\n  export let value\n\n  let hsv\n  let lastSetValue\n  function setValue(h, s, v) {\n    hsv = [h, s, v]\n    lastSetValue = value = cc.hsv.hex(h, s, v)\n  }\n  $: if(value !== lastSetValue) hsv = cc.hex.hsv(value)\n\n  $: onlyHue = `hsl(${hsv[0]}, 100%, 50%)`\n  $: hStyle = `\n    background: ${onlyHue};\n    left: 50%; \n    transform: translate(-50%, -50%) \n               translateY(${hueHeight*(1-hsv[0]/360)}px);`\n  $: svStyle = `\n    background: #${value}; \n    transform: translate(-50%, -50%) \n               translate(${svWidth*hsv[1]/100}px, ${svHeight*(1-hsv[2]/100)}px);`\n\n  let hueElement, svElement\n  let hueWidth, hueHeight, svWidth, svHeight\n  let movingHue = false, movingSV = false\n  function onHueMousedown(e) {\n    movingHue = true\n    onMousemove(e)\n  }\n  function onSVMousedown(e) {\n    movingSV = true\n    onMousemove(e)\n  }\n  function onMousemove({x,y}) {\n    if(!movingHue && !movingSV) return\n    let [h,s,v] = hsv\n    if(movingHue) {\n      let { top, right, bottom, left, width, height } = hueElement.getBoundingClientRect()\n      let dy = Math.min(1, Math.max(0, (y - top) / height))\n      let h = (1-dy) * 360\n      setValue(h, s, v)\n    }\n    if(movingSV) {\n      let { top, right, bottom, left, width, height } = svElement.getBoundingClientRect()\n      let dx = Math.min(1, Math.max(0, (x - left) / width))\n      let dy = Math.min(1, Math.max(0, (y - top) / height))\n      let s = dx * 100\n      let v = (1-dy) * 100\n      setValue(h, s, v)\n    }\n    hueElement.dispatchEvent(new Event(\"input\", { bubbles: true }))\n  }\n  function onMouseup(e) {\n    movingHue = movingSV = false\n  }\n  \n</script>\n\n<svelte:window\n  on:mousemove={onMousemove}\n  on:mouseup={onMouseup}\n  on:mouseleave={onMouseup}\n/>\n\n<div class=\"flex p-4 h-64\" style=\"width: 14rem;\" on:input >\n  <div class=\"hue-select w-4 mr-4 rounded-sm relative\"\n    on:mousedown={onHueMousedown}\n    bind:this={hueElement}\n    bind:clientWidth={hueWidth}\n    bind:clientHeight={hueHeight}\n  >\n    <div class=\"selector\" style={hStyle} ></div>\n  </div>\n  <div class=\"value-saturation-select relative flex-grow rounded-sm\"\n    style=\"background: {onlyHue};\"\n    on:mousedown={onSVMousedown}\n    bind:this={svElement}\n    bind:clientWidth={svWidth}\n    bind:clientHeight={svHeight}\n  >\n    <div class=\"selector\" style={svStyle} ></div>\n  </div>\n</div>\n\n\n<style lang=\"text/postcss\">.hue-select{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEWCAYAAACnsf0eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wcPEgMV7xXP/AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAFTSURBVDjLfZFdksMgDIM/q0D35x57/+NtgMb7kMZAN9MXjyRLwpngP8UFQvCF4IbgjiAhKOewjGCMO8LK6TtQbAcN5FaQDe3oC/RKyzvN3vvyui1ot4SqgxrMaHNQD60G6oDaqjX+F0wxQD3opfmiagP0iFsm30vLxXBArGNfqUc9nJ/1GJqBvJyDDPIMsgLaM0jl1IZFQX21sGp7aBaJlJcFgV60WwE9LnxKQakIGkregm4IOqqxxSvKtDnhY7su8Io+6agfWkV+lLZ/iUZFmf5EU7P3uKXNV0FDOZrnx1/e+I3f2FGOP/gdKMcogD4mmtCNHRUcpWO7oFvECqBs6YnSEQPd2Z+JjBYzHg9ZII+FUDlahIotidl8Xpp5PDUBooJoAwnRdkS1WBiieVgcUYdP4XNEM+TVkTXWgn2JbUL0eHegLehI1KDt4mZAeCCzA/0BoHfNUPyhWYUAAAAASUVORK5CYII=\");background-repeat:repeat-x;background-size:contain}.value-saturation-select:before{content:\"\";width:100%;height:100%;position:absolute;border-radius:.125rem;background:-webkit-gradient(linear,left bottom,left top,from(#000),to(transparent)),-webkit-gradient(linear,left top,right top,from(#fff),to(transparent));background:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,transparent)}.selector{position:absolute;width:1rem;height:1rem;border-radius:9999px;border-width:2px;border-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}\n/*# sourceMappingURL=src/components/common/ColorPicker.svelte.map */</style>",
    "\n<script>\n\n  import { createEventDispatcher } from \"svelte\"\n  import { clamp } from \"/data/base/util\"\n\n  export let min = 0\n  export let max = 100\n  export let step = 1\n  export let value\n\n  const dispatch = createEventDispatcher()\n\n  let container\n  let containerWidth, containerHeight\n  let isSliding = false\n\n  function onMouseDown(e) {\n    isSliding = true\n    onMouseMove(e)\n  }\n\n  function onMouseMove({x,y}) {\n    if(!isSliding) return\n    let rect = container.getBoundingClientRect()\n    let ratio = clamp((x-rect.left)/(rect.width), 0, 1)\n    console.log(\"min\", min, \"max\", max, \"step\", step)\n    console.log(\"ratio\", ratio)\n    let newValue = ratio * (max-min) + min\n    console.log(\"newValue\", newValue)\n    newValue = step * Math.round(newValue/step)\n    console.log(\"newValue > step\", newValue)\n    value = newValue\n    dispatch(\"input\")\n  }\n\n  function onMouseUp(e) {\n    isSliding = false\n  }\n\n  $: ratio = clamp((value-min)/(max-min), 0, 1)\n\n</script>\n\n<svelte:window\n  on:mousemove={onMouseMove}\n  on:mouseup={onMouseUp}\n  on:mouseleave={onMouseUp}\n/>\n\n\n<div class=\"flex items-center px-2 w-32 h-4\"\n     on:mousedown={onMouseDown}\n>\n  <div class=\"relative h-1 rounded-sm flex-grow flex\"\n    bind:this={container}\n    bind:clientWidth={containerWidth}\n    bind:clientHeight={containerHeight}\n  >\n    <div class=\"h-full bg-blue-500 flex-shrink-0\" style=\"width: {containerWidth*ratio}px\"></div>\n    <div class=\"h-full bg-gray-200 flex-grow\"></div>\n    <div class=\"selector bg-blue-500\" \n         style=\"transform: translate(-50%, -50%) \n                           translateX({containerWidth*ratio}px)\" \n    ></div>\n  </div>\n</div>\n\n\n<style lang=\"text/postcss\">.selector{position:absolute;width:1rem;height:1rem;border-radius:9999px;cursor:pointer;top:50%}\n/*# sourceMappingURL=src/components/common/Slider.svelte.map */</style>"
  ],
  "names": [],
  "mappings": "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"
}